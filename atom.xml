<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Five-great的博客</title>
  
  <subtitle>Five-great</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://fivecc.cn/"/>
  <updated>2019-11-23T11:50:27.439Z</updated>
  <id>https://fivecc.cn/</id>
  
  <author>
    <name>five</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>IIR数字滤波器</title>
    <link href="https://fivecc.cn/iir-shu-zi-lu-bo-qi.html"/>
    <id>https://fivecc.cn/iir-shu-zi-lu-bo-qi.html</id>
    <published>2019-09-28T03:43:55.000Z</published>
    <updated>2019-11-23T11:50:27.439Z</updated>
    
    <content type="html"><![CDATA[<h3 id="一、实验目的"><a href="#一、实验目的" class="headerlink" title="一、实验目的"></a>一、实验目的</h3><p>1.熟悉双线性变换法设计IIR数字滤波器的原理与方法。</p><p>2.掌握IIR数字滤波器的MATLAB实现方法，会调用ellipord()和ellip() </p><p>函数设计各种滤波器。</p><p>3.观察分析滤波器输入输出数据波形，理解数字滤波的概念。</p><p>​         </p><p>二、实验原理及步骤</p><p>（一）实验原理-双线性变换法</p><p>数字滤波器是对数字信号实现滤波的线性时不变系统。数字滤波实质上是一种运算过程，实现对信号的运算处理。输入数字信号（数字序列）通过特定的运算转变为输出的数字序列，因此，数字滤波器本质上是一个完成特定运算的数字计算过程，也可以理解为是一台计算机。描述离散系统输出与输入关系的卷积和差分方程只是给数字信号滤波器提供运算规则，使其按照这个规则完成对输入数据的处理。时域离散系统的频域特性:</p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218163713560.png" alt="img"></p><p>其中<img src="https://fm60dk.coding-pages.com/myimages/20181218163858450.png" alt="img">、<img src="logo-loading1.png" data-original="../myimages/20181218163933629.png" alt="img"> 分别是数字滤波器的输出序列和输入序列的频域特性（或称为频谱特性），<img src="https://fm60dk.coding-pages.com/myimages/20181218164017749.png" alt="img">是数字滤波器的单位取样响应的频谱，又称为数字滤经过滤波后的频域响应。只要按照输入信号频谱的特点和处理信号的目的，适当选择<img src="https://fm60dk.coding-pages.com/myimages/20181218164017749.png" alt="img">，使得滤波后<img src="https://fm60dk.coding-pages.com/myimages/20181218164017749.png" alt="img"><img src="https://fm60dk.coding-pages.com/myimages/20181218163933629.png" alt="img">满足设计的要求，这就是数字滤波器的滤波原理。</p><p>数字滤波器根据其冲激响应函数的时域特性，可分为两种，即无限长冲激响应(IIR)数字滤波器和有限长冲激响应(FIR)数字滤波器。IIR 数字滤波器的特征是，具有无限持续时间冲激响应，需要用递归模型来实现，其差分方程为：</p><p>系统函数为：</p><p>​             <img src="https://fm60dk.coding-pages.com/myimages/20181218163758213.png" alt="img"></p><p>设计IIR滤波器的任务就是寻求一个物理上可实现的系统函数H(z)，使其频率响应H(z)满足所希望得到的频域指标，即符合给定的通带截止频率、阻带截止频率、通带衰减系数和阻带衰减系数。</p><p>基本设计过程如下：</p><p>1.将给定的数字滤波器指标转换成模拟滤波器的指标。</p><p>2.设计模拟滤波器。</p><p>3.将模拟滤波器转换成数字滤波器系统函数。</p><p>（二）实验步骤</p><p>1.在完成滤波器设计之后，采用filter()对输入信号进行滤波处理。调用信号产生函数mstg产生由抑制载波调制信号相加构成的复合信号st，该函数还会自动绘图显示其时域波形和幅频特性曲线，如下图1所示。</p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218131244830.png" alt="img"></p><p>由图1中（a）和（b）可见，三路信号时域混叠无法在时域分离，但在频域是可以分离的，可以通过滤波的方法进行分离，即通过设计IIR滤波器，分离这三个不同频率的信号。</p><p>2.要求将三路信号进行分离，通过观察st信号的幅频特性曲线，分别确定可以分离st中三路抑制载波单频调幅信号的三个滤波器（低通滤波器、带通滤波器、高通滤波器）的通带截止频率和阻带截止频率。滤波器的通带最大衰减为0.1dB，阻带最小衰减为60dB。</p><p>3.调用ellipord()和ellip()分别设计这三个椭圆滤波器，并绘图显示其损耗函数曲线分别如图2，图3，图4。</p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218131335648.png" alt="img"></p><p>​                                                                 图2 低通损耗函数曲线</p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218131427139.png" alt="img"></p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218131444904.png" alt="img"></p><p>4.调用filter()，用三个滤波器分别对信号产生函数mstg产生的信号进行滤波，分离出st中的不同载波频率信号，并绘图显示三个信号的时域波形，分别如图5，图6，图7。</p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218140405929.png" alt="img"></p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218161307866.png" alt="img"></p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218161348958.png" alt="img"></p><p>三、实验结果分析</p><p>（一）函数mstg</p><p>阅读信号产生函数mstg，确定三路调幅信号的载波频率和调制信号频率。第1路调幅信号的载波频率fc1=1000Hz，调制信号频率fm1=100Hz。第2路调幅信号的载波频率fc2=500Hz，调制信号频率fm2=50Hz。第3路调幅信号的载波频率fc2=250Hz，调制信号频率fm2=25Hz。</p><ul><li>采样点数对频谱图的影响</li></ul><p>1.调幅信号</p><p>当N=800,1600,1800,2000时，调幅信号产生的频谱图如图8,9,10,11所示。</p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218161553129.png" alt="img"></p><p>​                                                             图8 N=800时s（t）的波形及频谱图</p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218162315365.png" alt="img"><img src="https://fm60dk.coding-pages.com/myimages/20181218161653554.png" alt="img"><br><img src="https://fm60dk.coding-pages.com/myimages/20181218162345158.png" alt="img"></p><p>分析：因为信号s（t）是周期序列，频谱分析时要求观察时间为整数倍周期。s（t）的每个频率成分都是25Hz的整数倍。采样频率Fs=10kHz=25*400Hz，即在25Hz的正弦波的一个周期中采样400个点。所以，当N为400的整数倍时一定为s（t）的整数倍周期。因此，采样点数N=800,1600,2000时，对s（t）进行N点FFT可以得6根理想谱线，而当N=1800时，不是400的整数倍，则不能得到。</p><p>2.AM调幅信号</p><p>当N=800,1600,1800,2000时产生的频谱图如图12,13,14,15所示。</p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218162431248.png" alt="img"></p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218162455147.png" alt="img"></p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218162516983.png" alt="img"></p><p><img src="https://fm60dk.coding-pages.com/myimages/20181218162616561.png" alt="img"></p><p>分析：因为信号s（t）时周期序列，频谱分析时要求观察时间为整数倍周期。因此，采样点数N=800,1600,2000时，对s（t）进行N点FFT可以得理想谱线，而当N=1800时，不是400的整数倍，则不能得到。当将该调幅信号修改为AM信号后，s（t）的频谱中有较大的频谱分量。如图所示。</p><ul><li>IIR滤波器</li></ul><ol><li>滤波器参数选取</li></ol><p>由（一）可知，三路调幅信号的载波频率分别为250Hz，500Hz，1000Hz。带宽为50Hz，100Hz，200Hz。所以分离混合信号st中三路抑制载波单频调幅信号的三个滤波器（低通滤波器、带通滤波器、高通滤波器）的指标参数选取如下：</p><p>对载波频率为250Hz的调幅信号，用低通滤波器分离，其通带截止频率fp=280Hz，通带最大衰减ap=0.1dB，阻带截止频率为fs=450Hz，阻带最小衰减as=60dB。对载波频率为500Hz的调幅信号，用低通滤波器分离，其通带截止频率fpl=440Hz、fph=560Hz，通带最大衰减ap=0.1dB，阻带截止频率为fsl=275Hz、fsh=900Hz阻带最小衰减as=60dB。对载波频率为1000Hz的调幅信号，用低通滤波器分离，其通带截止频率fp=890Hz，通带最大衰减ap=0.1dB，阻带截止频率为fs=600Hz，阻带最小衰减as=60dB。</p><p>IIR.m</p><pre class=" language-d"><code class="language-d"><span class="token keyword">function</span> mainst<span class="token operator">=</span>mstg<span class="token punctuation">;</span>   <span class="token operator">%</span>调用信号产生函数mstg产生由三路抑制载波调幅信号相加构成的复合信号sFs<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">;</span> T<span class="token operator">=</span><span class="token number">1</span><span class="token operator">/</span>Fs<span class="token punctuation">;</span>  <span class="token operator">%</span>采样频率fp<span class="token operator">=</span><span class="token number">280</span><span class="token punctuation">;</span> fs<span class="token operator">=</span><span class="token number">450</span><span class="token punctuation">;</span>wp<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>fp<span class="token operator">/</span>Fs<span class="token punctuation">;</span>ws<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>fs<span class="token operator">/</span>Fs<span class="token punctuation">;</span> <span class="token operator">%</span>低通   name<span class="token operator">=</span><span class="token string">'y_1(t)'</span><span class="token punctuation">;</span><span class="token function">LHL_filter</span><span class="token punctuation">(</span>wp<span class="token punctuation">,</span>ws<span class="token punctuation">,</span>name<span class="token punctuation">,</span>st<span class="token punctuation">,</span>T<span class="token punctuation">,</span><span class="token string">'low'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>fp_L<span class="token operator">=</span><span class="token number">440</span><span class="token punctuation">;</span> fp_R<span class="token operator">=</span><span class="token number">560</span><span class="token punctuation">;</span>fs_L<span class="token operator">=</span><span class="token number">275</span><span class="token punctuation">;</span> fs_R<span class="token operator">=</span><span class="token number">900</span><span class="token punctuation">;</span><span class="token operator">%</span>带通   wp<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>fp_L<span class="token operator">/</span>Fs<span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>fp_R<span class="token operator">/</span>Fs<span class="token punctuation">]</span><span class="token punctuation">;</span>ws<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>fs_L<span class="token operator">/</span>Fs<span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>fs_R<span class="token operator">/</span>Fs<span class="token punctuation">]</span><span class="token punctuation">;</span>   name<span class="token operator">=</span><span class="token string">'y_2(t)'</span><span class="token punctuation">;</span> <span class="token function">LHL_filter</span><span class="token punctuation">(</span>wp<span class="token punctuation">,</span>ws<span class="token punctuation">,</span>name<span class="token punctuation">,</span>st<span class="token punctuation">,</span>T<span class="token punctuation">,</span><span class="token string">'bandpass'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>fp<span class="token operator">=</span><span class="token number">890</span><span class="token punctuation">;</span> fs<span class="token operator">=</span><span class="token number">600</span><span class="token punctuation">;</span>wp<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>fp<span class="token operator">/</span>Fs<span class="token punctuation">;</span>ws<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>fs<span class="token operator">/</span>Fs<span class="token punctuation">;</span> <span class="token operator">%</span>高通   name<span class="token operator">=</span><span class="token string">'y_3(t)'</span><span class="token punctuation">;</span><span class="token function">LHL_filter</span><span class="token punctuation">(</span>wp<span class="token punctuation">,</span>ws<span class="token punctuation">,</span>name<span class="token punctuation">,</span>st<span class="token punctuation">,</span>T<span class="token punctuation">,</span><span class="token string">'high'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>end<span class="token keyword">function</span> <span class="token function">LHL_filter</span><span class="token punctuation">(</span>wp<span class="token punctuation">,</span>ws<span class="token punctuation">,</span>name<span class="token punctuation">,</span>st<span class="token punctuation">,</span>T<span class="token punctuation">,</span>flag<span class="token punctuation">)</span>rp<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">;</span>rs<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">;</span> <span class="token operator">%</span>DF指标（低通滤波器的通、阻带边界频）<span class="token punctuation">[</span>N<span class="token punctuation">,</span>wp<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">ellipord</span><span class="token punctuation">(</span>wp<span class="token punctuation">,</span>ws<span class="token punctuation">,</span>rp<span class="token punctuation">,</span>rs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>调用ellipord计算椭圆DF阶数N和通带截止频率wp?<span class="token punctuation">[</span>B<span class="token punctuation">,</span>A<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">ellip</span><span class="token punctuation">(</span>N<span class="token punctuation">,</span>rp<span class="token punctuation">,</span>rs<span class="token punctuation">,</span>wp<span class="token punctuation">,</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>调用ellip计算椭圆带通DF系统函数系数向量B和Ayt<span class="token operator">=</span><span class="token function">filter</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span>A<span class="token punctuation">,</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>滤波器软件实现 figure<span class="token punctuation">;</span> <span class="token function">freqz</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">%</span>B<span class="token punctuation">,</span>A分别为系统函数分子，分母多项式系数向量? figure<span class="token punctuation">;</span><span class="token function">tplot</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span>yt<span class="token punctuation">,</span>T<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>end<span class="token keyword">function</span> <span class="token function">tplot</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span>xn<span class="token punctuation">,</span>T<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token operator">%</span>时域序列连续曲线绘图函数?<span class="token operator">%</span>?xn<span class="token punctuation">:</span>信号数据序列，<span class="token operator">%</span>?T为采样间隔N<span class="token operator">=</span><span class="token function">length</span><span class="token punctuation">(</span>xn<span class="token punctuation">)</span><span class="token punctuation">;</span>n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">:</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> t<span class="token operator">=</span>n<span class="token operator">*</span>T<span class="token punctuation">;</span> Tp<span class="token operator">=</span>N<span class="token operator">*</span>T<span class="token punctuation">;</span> f<span class="token operator">=</span>n<span class="token operator">/</span>Tp<span class="token punctuation">;</span><span class="token function">subplot</span><span class="token punctuation">(</span><span class="token number">311</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">plot</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>xn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'t/s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">axis</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token function">t</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>xn<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1.2</span><span class="token operator">*</span><span class="token function">max</span><span class="token punctuation">(</span>xn<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">subplot</span><span class="token punctuation">(</span><span class="token number">312</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">stem</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">fftshift</span><span class="token punctuation">(</span><span class="token function">fft</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span>N<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'原 st(t)的频谱'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'f/Hz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'幅度'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">subplot</span><span class="token punctuation">(</span><span class="token number">313</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">stem</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">fftshift</span><span class="token punctuation">(</span><span class="token function">fft</span><span class="token punctuation">(</span>xn<span class="token punctuation">,</span>N<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'滤波后xn(t)的频谱'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'f/Hz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'幅度'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>end<span class="token keyword">function</span> st<span class="token operator">=</span>mstg<span class="token operator">%</span>产生信号序列向量st<span class="token punctuation">,</span>并显示st的时域波形和频谱<span class="token operator">%</span>st<span class="token operator">=</span>mstg 返回三路调幅信号相加形成的混合信号，长度N<span class="token operator">=</span><span class="token number">1600</span>N<span class="token operator">=</span><span class="token number">1600</span><span class="token punctuation">;</span>Fs<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">;</span>T<span class="token operator">=</span><span class="token number">1</span><span class="token operator">/</span>Fs<span class="token punctuation">;</span>Tp<span class="token operator">=</span>N<span class="token operator">*</span>T<span class="token punctuation">;</span> <span class="token operator">%</span> N为信号st的长度。采样频率Fs<span class="token operator">=</span><span class="token number">10</span>kHz，Tp为采样时间t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">:</span>T<span class="token punctuation">:</span><span class="token punctuation">(</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>T<span class="token punctuation">;</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">:</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>f<span class="token operator">=</span>k<span class="token operator">/</span>Tp<span class="token punctuation">;</span>fc1<span class="token operator">=</span>Fs<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span>fm1<span class="token operator">=</span>fc1<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">%</span>第<span class="token number">1</span>路调幅信号的载波频率fc1<span class="token operator">=</span><span class="token number">1000</span>Hz<span class="token punctuation">,</span>调制信号频率fm1<span class="token operator">=</span><span class="token number">100</span>Hzfc2<span class="token operator">=</span>Fs<span class="token operator">/</span><span class="token number">20</span><span class="token punctuation">;</span>fm2<span class="token operator">=</span>fc2<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">%</span>第<span class="token number">2</span>路调幅信号的载波频率fc2<span class="token operator">=</span><span class="token number">500</span>Hz<span class="token punctuation">,</span>调制信号频率fm2<span class="token operator">=</span><span class="token number">50</span>Hzfc3<span class="token operator">=</span>Fs<span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">;</span>fm3<span class="token operator">=</span>fc3<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">%</span>第<span class="token number">3</span>路调幅信号的载波频率fc3<span class="token operator">=</span><span class="token number">250</span>Hz<span class="token punctuation">,</span>调制信号频率fm3<span class="token operator">=</span><span class="token number">25</span>Hz                  xt1<span class="token operator">=</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fm1<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fc1<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>产生第<span class="token number">1</span>路调幅信号xt2<span class="token operator">=</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fm2<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fc2<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>产生第<span class="token number">2</span>路调幅信号xt3<span class="token operator">=</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fm3<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fc3<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>产生第<span class="token number">3</span>路调幅信号st<span class="token operator">=</span>xt1<span class="token operator">+</span>xt2<span class="token operator">+</span>xt3<span class="token punctuation">;</span>         <span class="token operator">%</span>三路调幅信号相加fxt<span class="token operator">=</span><span class="token function">fft</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token operator">%</span>计算信号st的频谱<span class="token function">subplot</span><span class="token punctuation">(</span><span class="token number">211</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">plot</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'t/s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'s(t)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">axis</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>Tp<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'(a) s(t)的波形'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">subplot</span><span class="token punctuation">(</span><span class="token number">212</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">stem</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token function">abs</span><span class="token punctuation">(</span>fxt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>fxt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'(频谱'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'f/Hz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'幅度'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>end</code></pre><p>mstg.m</p><pre class=" language-d"><code class="language-d"><span class="token keyword">function</span> st<span class="token operator">=</span>mstg<span class="token operator">%</span>产生信号序列向量st<span class="token punctuation">,</span>并显示st的时域波形和频谱<span class="token operator">%</span>st<span class="token operator">=</span>mstg<span class="token punctuation">;</span> 返回三路调幅信号相加形成的混合信号，长度N<span class="token operator">=</span><span class="token number">1600</span>N<span class="token operator">=</span><span class="token number">2000</span><span class="token punctuation">;</span>Fs<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">;</span>T<span class="token operator">=</span><span class="token number">1</span><span class="token operator">/</span>Fs<span class="token punctuation">;</span>Tp<span class="token operator">=</span>N<span class="token operator">*</span>T<span class="token punctuation">;</span> <span class="token operator">%</span> N为信号st的长度。采样频率Fs<span class="token operator">=</span><span class="token number">10</span>kHz，Tp为采样时间t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">:</span>T<span class="token punctuation">:</span><span class="token punctuation">(</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>T<span class="token punctuation">;</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">:</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>f<span class="token operator">=</span>k<span class="token operator">/</span>Tp<span class="token punctuation">;</span>fc1<span class="token operator">=</span>Fs<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span>fm1<span class="token operator">=</span>fc1<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">%</span>第<span class="token number">1</span>路调幅信号的载波频率fc1<span class="token operator">=</span><span class="token number">1000</span>Hz<span class="token punctuation">,</span>调制信号频率fm1<span class="token operator">=</span><span class="token number">100</span>Hzfc2<span class="token operator">=</span>Fs<span class="token operator">/</span><span class="token number">20</span><span class="token punctuation">;</span>fm2<span class="token operator">=</span>fc2<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">%</span>第<span class="token number">2</span>路调幅信号的载波频率fc2<span class="token operator">=</span><span class="token number">500</span>Hz<span class="token punctuation">,</span>调制信号频率fm2<span class="token operator">=</span><span class="token number">50</span>Hzfc3<span class="token operator">=</span>Fs<span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">;</span>fm3<span class="token operator">=</span>fc3<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">%</span>第<span class="token number">3</span>路调幅信号的载波频率fc3<span class="token operator">=</span><span class="token number">250</span>Hz<span class="token punctuation">,</span>调制信号频率fm3<span class="token operator">=</span><span class="token number">25</span>Hz                  xt1<span class="token operator">=</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fm1<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fc1<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>产生第<span class="token number">1</span>路调幅信号xt2<span class="token operator">=</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fm2<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fc2<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>产生第<span class="token number">2</span>路调幅信号xt3<span class="token operator">=</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fm3<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fc3<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>产生第<span class="token number">3</span>路调幅信号st<span class="token operator">=</span>xt1<span class="token operator">+</span>xt2<span class="token operator">+</span>xt3<span class="token punctuation">;</span>         <span class="token operator">%</span>三路调幅信号相加fxt<span class="token operator">=</span><span class="token function">fft</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token operator">%</span>计算信号st的频谱<span class="token function">subplot</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">plot</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'t/s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'s(t)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'N='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'s(t)的波形'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">axis</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>Tp<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">subplot</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">stem</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token function">abs</span><span class="token punctuation">(</span>fxt<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>fxt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'N='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'s(t)的频谱'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'f/Hz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'幅度'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">axis</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>Fs<span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1.2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>end</code></pre><p>AM_mstg.m</p><pre class=" language-d"><code class="language-d"><span class="token keyword">function</span> AM_mstgN<span class="token operator">=</span><span class="token number">2000</span><span class="token punctuation">;</span> Fs<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">;</span>T<span class="token operator">=</span><span class="token number">1</span><span class="token operator">/</span>Fs<span class="token punctuation">;</span>Tp<span class="token operator">=</span>N<span class="token operator">*</span>T<span class="token punctuation">;</span>t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">:</span>T<span class="token punctuation">:</span><span class="token punctuation">(</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>T<span class="token punctuation">;</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">:</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>f<span class="token operator">=</span>k<span class="token operator">/</span>Tp<span class="token punctuation">;</span>fc1<span class="token operator">=</span>Fs<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span>fm1<span class="token operator">=</span>fc1<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">%</span>第<span class="token number">1</span>路调幅信号的载波频率fc1<span class="token operator">=</span><span class="token number">1000</span>Hz<span class="token punctuation">,</span>调制信号频率fm1<span class="token operator">=</span><span class="token number">100</span>Hzfc2<span class="token operator">=</span>Fs<span class="token operator">/</span><span class="token number">20</span><span class="token punctuation">;</span>fm2<span class="token operator">=</span>fc2<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">%</span>第<span class="token number">2</span>路调幅信号的载波频率fc2<span class="token operator">=</span><span class="token number">500</span>Hz<span class="token punctuation">,</span>调制信号频率fm2<span class="token operator">=</span><span class="token number">50</span>Hzfc3<span class="token operator">=</span>Fs<span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">;</span>fm3<span class="token operator">=</span>fc3<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">%</span>第<span class="token number">3</span>路调幅信号的载波频率fc3<span class="token operator">=</span><span class="token number">250</span>Hz<span class="token punctuation">,</span>调制信号频率fm3<span class="token operator">=</span><span class="token number">25</span>Hzxt1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">+</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fm1<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fc1<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>xt2<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">+</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fm2<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fc2<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>xt3<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">+</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fm3<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>fc3<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>st<span class="token operator">=</span>xt1<span class="token operator">+</span>xt2<span class="token operator">+</span>xt3<span class="token punctuation">;</span>fxt<span class="token operator">=</span><span class="token function">fft</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">subplot</span><span class="token punctuation">(</span><span class="token number">211</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">plot</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'t/s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'s(t)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">axis</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>Tp<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'N='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">' AM s(t)波形图'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">subplot</span><span class="token punctuation">(</span><span class="token number">212</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">stem</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span><span class="token function">abs</span><span class="token punctuation">(</span>fxt<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>fxt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'N= '</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'频谱图'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">axis</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>Fs<span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1.2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'f/Hz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'幅度'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>end</code></pre><p><a href="https://download.csdn.net/download/qq_41923622/10859140" target="_blank" rel="noopener">资源点击下载</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;一、实验目的&quot;&gt;&lt;a href=&quot;#一、实验目的&quot; class=&quot;headerlink&quot; title=&quot;一、实验目的&quot;&gt;&lt;/a&gt;一、实验目的&lt;/h3&gt;&lt;p&gt;1.熟悉双线性变换法设计IIR数字滤波器的原理与方法。&lt;/p&gt;
&lt;p&gt;2.掌握IIR数字滤波器的MATLAB
      
    
    </summary>
    
      <category term="程序设计" scheme="https://fivecc.cn/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="数字信号" scheme="https://fivecc.cn/tags/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7/"/>
    
      <category term="滤波器" scheme="https://fivecc.cn/tags/%E6%BB%A4%E6%B3%A2%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>一款酷炫的动态背景</title>
    <link href="https://fivecc.cn/yi-kuan-ku-xuan-de-dong-tai-bei-jing.html"/>
    <id>https://fivecc.cn/yi-kuan-ku-xuan-de-dong-tai-bei-jing.html</id>
    <published>2019-05-29T04:30:20.000Z</published>
    <updated>2019-11-23T12:26:12.716Z</updated>
    
    <content type="html"><![CDATA[ <h3 id="一款酷炫的动态背景-h5-canvas-js"><a href="#一款酷炫的动态背景-h5-canvas-js" class="headerlink" title="一款酷炫的动态背景(h5 canvas+js)"></a>一款酷炫的动态背景(h5 canvas+js)</h3><p> </p><p>    废话不多说 ，分享一款酷炫的页面动态背景 效果见下图。</p><p>    查看  <a href="https://five-great.coding.me/" rel="noopener" data-token="630181221064d7bfd30aee4b1fff6710" target="_blank">demo</a></p><h3>背景图效果：</h3><p><img src="/medias/images/20190313165424318.png" alt="背景图效果"></p><p> </p><h3>实例效果</h3><br><img src="/medias/images/20190313170304814.png" alt="实例效果"><br><br><br><h3> 点击效果：</h3><p><img src="/medias/images/20190313170517861.png" alt="点击效果"></p><p> </p><h3>背景css</h3><pre class=" language-css"><code class="language-css"> <span class="token selector">*</span><span class="token punctuation">{</span>        <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token selector"><span class="token id">#canvas</span></span><span class="token punctuation">{</span>         <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>         <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#ccc</span><span class="token punctuation">;</span>         <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>         <span class="token property">z-index</span><span class="token punctuation">:</span> -<span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><h3>背景html</h3><pre class=" language-html"><code class="language-html">     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>canvas<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span></code></pre><h3>背景js</h3><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>script<span class="token operator">></span>    window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span>               window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span>               window<span class="token punctuation">.</span>mozRequestAnimationFrame <span class="token operator">||</span>               <span class="token keyword">function</span><span class="token punctuation">(</span> callback <span class="token punctuation">)</span><span class="token punctuation">{</span>                    window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span> callback<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token operator">/</span><span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> myCanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> ctx <span class="token operator">=</span> myCanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//getContext 设置画笔</span>    <span class="token keyword">var</span> num<span class="token punctuation">;</span>    <span class="token keyword">var</span> w<span class="token punctuation">,</span>h<span class="token punctuation">;</span>    <span class="token keyword">var</span> duixiang <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> move <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">widthheight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        w <span class="token operator">=</span> myCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>        h <span class="token operator">=</span> myCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>        num<span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>w<span class="token operator">*</span>h<span class="token operator">*</span><span class="token number">0.00028</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//点的数量。根据屏幕大小确定</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>                x<span class="token punctuation">:</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>w<span class="token punctuation">,</span>                y<span class="token punctuation">:</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token punctuation">,</span>                cX<span class="token punctuation">:</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.6</span><span class="token operator">-</span><span class="token number">0.3</span><span class="token punctuation">,</span>                cY<span class="token punctuation">:</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.6</span><span class="token operator">-</span><span class="token number">0.3</span><span class="token punctuation">,</span>                R<span class="token punctuation">:</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span>                <span class="token comment" spellcheck="true">//CC:Math.floor(Math.random()*3)+2,</span>                r<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">254</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   g<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">254</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                  b<span class="token punctuation">:</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">254</span><span class="token punctuation">)</span>               <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// console.log(duixiang[i])</span>            <span class="token function">Cricle</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>R<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>g<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment" spellcheck="true">//Cricle(duixiang[i].x,duixiang[i].y,duixiang[i].R,duixiang[i].CC);</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">widthheight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取浏览器的等宽度等高</span>    <span class="token keyword">function</span> <span class="token function">Cricle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>R<span class="token punctuation">,</span>r<span class="token punctuation">,</span>g<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>        ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//保存路径</span>       <span class="token keyword">if</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token number">0.991</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span> <span class="token number">0.9</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//ctx.fillStyle = "#CCC";}//填充的背景颜色</span>        <span class="token keyword">else</span> <span class="token punctuation">{</span> ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span><span class="token number">0.47</span><span class="token punctuation">;</span><span class="token punctuation">}</span>        ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">"rgb("</span><span class="token operator">+</span> r <span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span> g <span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span> b <span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">;</span>        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//开始绘画</span>        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>R<span class="token punctuation">,</span>Math<span class="token punctuation">.</span>PI<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//绘画圆 x y 半径（大小） 角度  一个PI 是180 * 2 = 360    真假 0/1 true/false</span>        ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//结束绘画</span>        ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//填充背景颜色</span>        ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//回复路径</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">Cricle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">!</span><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//先清除画布上的点</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">+</span><span class="token operator">=</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cX<span class="token punctuation">;</span>            duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">+</span><span class="token operator">=</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cY<span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>w <span class="token operator">||</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cX <span class="token operator">=</span> <span class="token operator">-</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cX<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>h <span class="token operator">||</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cY <span class="token operator">=</span> <span class="token operator">-</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cY<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token function">Cricle</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>R<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>g<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//勾股定理判断两点是否连线</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>j <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">-</span>duixiang<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">-</span>duixiang<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">-</span>duixiang<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">-</span>duixiang<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">55</span><span class="token operator">*</span><span class="token number">55</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token function">line</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>move<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">-</span>move<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">-</span>move<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">-</span>move<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">-</span>move<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">100</span><span class="token operator">*</span><span class="token number">100</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>                        <span class="token function">line</span><span class="token punctuation">(</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>move<span class="token punctuation">.</span>x<span class="token punctuation">,</span>move<span class="token punctuation">.</span>y<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>draw<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//绘制线条</span>    <span class="token keyword">function</span> <span class="token function">line</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>x2<span class="token punctuation">,</span>y2<span class="token punctuation">,</span>flag<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> color <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>x2<span class="token punctuation">,</span>y2<span class="token punctuation">)</span><span class="token punctuation">;</span>                    ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">;</span>                    color<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"rgb("</span><span class="token operator">+</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>g <span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b <span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    color<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span><span class="token string">"#019ee5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">else</span>                <span class="token punctuation">{</span>                <span class="token keyword">var</span> color <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>x2<span class="token punctuation">,</span>y2<span class="token punctuation">)</span><span class="token punctuation">;</span>                    ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">;</span>                    color<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"rgb("</span><span class="token operator">+</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>g <span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span> duixiang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b <span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    color<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"rgb("</span><span class="token operator">+</span> duixiang<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span> duixiang<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>g <span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span> duixiang<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>b <span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>        ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> color<span class="token punctuation">;</span>        ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">)</span><span class="token punctuation">;</span>        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span>y2<span class="token punctuation">)</span><span class="token punctuation">;</span>        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//ctx.restore();</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//document.onmousemove = function(e){</span>     <span class="token comment" spellcheck="true">//   move.x = e.clientX;</span>      <span class="token comment" spellcheck="true">//  move.y = e.clientY;</span>    <span class="token comment" spellcheck="true">//}</span>    <span class="token comment" spellcheck="true">//console.log(move)//去掉注释 ，可以与背景互动</span>    window<span class="token punctuation">.</span>onresize <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>script<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span></code></pre><p> </p><h3> 点击效果CSS</h3><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token id">#canvas1</span> </span><span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span> <span class="token property">pointer-events</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>//鼠标多层响应事件        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>        <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>         <span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">999</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p> </p><p></p><h3> 点击效果HTML</h3><p></p><pre class=" language-html"><code class="language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>canvas1<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">whdth</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span></code></pre><p></p><h3> 点击效果js</h3><p></p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">var</span> _createClass <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">function</span> <span class="token function">defineProperties</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> props<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> props<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span><span class="token keyword">var</span> descriptor <span class="token operator">=</span> props<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span>descriptor<span class="token punctuation">.</span>configurable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"value"</span> <span class="token keyword">in</span> descriptor<span class="token punctuation">)</span>  descriptor<span class="token punctuation">.</span>writable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> descriptor<span class="token punctuation">.</span>key<span class="token punctuation">,</span> descriptor<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Constructor<span class="token punctuation">,</span> protoProps<span class="token punctuation">,</span> staticProps<span class="token punctuation">)</span>  <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span>protoProps<span class="token punctuation">)</span> <span class="token function">defineProperties</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> protoProps<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>staticProps<span class="token punctuation">)</span> <span class="token function">defineProperties</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">,</span> staticProps<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> Constructor<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">_classCallCheck</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> Constructor<span class="token punctuation">)</span>  <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>instance <span class="token keyword">instanceof</span> <span class="token class-name">Constructor</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"Cannot call a class as a function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token keyword">var</span> getRandom <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">getRandom</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><p><span class="token keyword">var</span> getRandomInt <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">getRandomInt</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></p><p><span class="token keyword">var</span> getRandomColor <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">getRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><br>  <span class="token string">‘rgba(231, 76, 60, 1)’</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// red</span><br>  <span class="token string">‘rgba(241, 196, 15, 1)’</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// yellow</span><br>  <span class="token string">‘rgba(46, 204, 113, 1)’</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// green</span><br>  <span class="token string">‘rgba(52, 152, 219, 1)’</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// blue</span><br>  <span class="token string">‘rgba(155, 89, 182, 1)’</span> <span class="token comment" spellcheck="true">// purple</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span></p><p>  <span class="token keyword">return</span> colors<span class="token punctuation">[</span><span class="token function">getRandomInt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></p><p><span class="token comment" spellcheck="true">// Particle//粒子模块</span><br><span class="token keyword">var</span><br>Particle <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></p><p>  <span class="token keyword">function</span> <span class="token function">Particle</span><span class="token punctuation">(</span>system<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Particle<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>system <span class="token operator">=</span> system<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>universe <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>system<span class="token punctuation">.</span>world<span class="token punctuation">.</span>universe<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token function">getRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>aging <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">0.990</span><span class="token punctuation">,</span> <span class="token number">0.999</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 0.99, 0.999 || 0.999, 0.9999</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">getRandomInt</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//初始粒子半径范围</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">18.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//粒子爆炸速度范围</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></p><p>  <span class="token punctuation">}</span><span class="token function">_createClass</span><span class="token punctuation">(</span>Particle<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘update’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><br>    dt<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">*</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>aging<span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0.1</span> <span class="token operator">||</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token operator">||</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>universe<span class="token punctuation">.</span>width <span class="token operator">||</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token operator">||</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>universe<span class="token punctuation">.</span>height<span class="token punctuation">)</span><br>      <span class="token punctuation">{</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">removeObject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>life<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘render’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><br>    ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token comment" spellcheck="true">// Main circle //亮圈模块</span><br>      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token operator">*</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/([0-9]+)/g</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>      <span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/([0-9]+)/g</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>      <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/([0-9]+)/g</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>      <span class="token comment" spellcheck="true">// Gradient//梯度变化曲线</span><br>      <span class="token keyword">var</span> spread <span class="token operator">=</span> <span class="token number">1.5</span><span class="token punctuation">;</span><br>      <span class="token keyword">var</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">,</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> spread<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">‘rgba(‘</span> <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> g <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">‘, 0.5)’</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">‘rgba(‘</span> <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> g <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">‘, 0)’</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">‘lighter’</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> spread<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">‘source-over’</span><span class="token punctuation">;</span><br>      <span class="token comment" spellcheck="true">// Aberration//偏差</span><br>      <span class="token keyword">var</span> offset <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">;</span><br>      <span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token string">‘rgba(‘</span> <span class="token operator">+</span> g <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token string">‘, 0.5)’</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">‘lighter’</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> color<span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> offset<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> offset<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">‘source-over’</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> Particle<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></p><p><span class="token comment" spellcheck="true">// Crown //水波纹圈模块</span><br><span class="token keyword">var</span><br>Crown <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></p><p>  <span class="token keyword">function</span> <span class="token function">Crown</span><span class="token punctuation">(</span>system<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Crown<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>system <span class="token operator">=</span> system<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">getRandomInt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 5, 20  水波纹圈半径范围</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>mod <span class="token operator">=</span> <span class="token number">1.1</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//水波纹线</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>aging <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">0.830</span><span class="token punctuation">,</span> <span class="token number">0.899</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token punctuation">{</span><br>      r<span class="token punctuation">:</span> <span class="token function">getRandomInt</span><span class="token punctuation">(</span><span class="token number">236</span><span class="token punctuation">,</span> <span class="token number">242</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      g<span class="token punctuation">:</span> <span class="token function">getRandomInt</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      b<span class="token punctuation">:</span> <span class="token function">getRandomInt</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>angle1 <span class="token operator">=</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>angle2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>angle1 <span class="token operator">+</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//水波纹圈完整度</span><br>  <span class="token punctuation">}</span><span class="token function">_createClass</span><span class="token punctuation">(</span>Crown<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘update’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><br>    dt<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">*</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>aging<span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0.0001</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">removeObject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">+</span><span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>life<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>angle1<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>y1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>angle1<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>angle3 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>angle1 <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>angle2 <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>angle1<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mod <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>angle3<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>y2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mod <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>angle3<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘render’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><br>    ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> <span class="token number">0.9</span><span class="token punctuation">,</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">‘rgba(‘</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span>r <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span>g <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span>b <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">+</span> <span class="token string">‘)’</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">‘rgba(‘</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span>r <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span>g <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span>b <span class="token operator">+</span> <span class="token string">‘, ‘</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>life <span class="token operator">*</span> <span class="token number">0.5</span> <span class="token operator">+</span> <span class="token string">‘)’</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>angle1<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>angle2<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">quadraticCurveTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x2<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y2<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x1<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y1<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> Crown<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></p><p><span class="token comment" spellcheck="true">// Explosion //爆炸模块</span><br><span class="token keyword">var</span><br>Explosion <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></p><p>  <span class="token keyword">function</span> <span class="token function">Explosion</span><span class="token punctuation">(</span>world<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Explosion<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>world <span class="token operator">=</span> world<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>objects <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> particles <span class="token operator">=</span> <span class="token function">getRandomInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 10, 30 amount of particles//爆炸 粒子数量</span><br>    <span class="token keyword">var</span> crowns <span class="token operator">=</span> particles <span class="token operator">*</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">while</span> <span class="token punctuation">(</span>crowns<span class="token operator">–</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addCrown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><br>    <span class="token keyword">while</span> <span class="token punctuation">(</span>particles<span class="token operator">–</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addParticle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token function">_createClass</span><span class="token punctuation">(</span>Explosion<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘update’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><br>    dt<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> obj<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>world<span class="token punctuation">.</span><span class="token function">clearExplosion</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘render’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><br>    ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> obj<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘addCrown’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">addCrown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Crown</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘addParticle’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">addParticle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Particle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘removeObject’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">removeObject</span><span class="token punctuation">(</span><br>    obj<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> Explosion<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></p><p><span class="token comment" spellcheck="true">// World </span><br><span class="token keyword">var</span><br>ConfettiWorld <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">function</span> <span class="token function">ConfettiWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">{</span><span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> ConfettiWorld<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">_createClass</span><span class="token punctuation">(</span>ConfettiWorld<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘init’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>objects <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">‘click’</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>explode<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token comment" spellcheck="true">// Initial explosion //初始爆炸</span><br>      <span class="token keyword">var</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>      <span class="token keyword">while</span> <span class="token punctuation">(</span>counter<span class="token operator">–</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">explode</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>          clientX<span class="token punctuation">:</span> window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//getRandomInt(10, this.universe.width) ,          //this.universe.width / 2,</span><br>          clientY<span class="token punctuation">:</span> window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>clientY <span class="token comment" spellcheck="true">//getRandomInt(10, 50) //this.universe.height / 2 </span><br>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘update’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><br>    dt<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> obj<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">var</span> amount <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>sum<span class="token punctuation">,</span> explosion<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> sum <span class="token operator">+</span><span class="token operator">=</span> explosion<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>length<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘render’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><br>    ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> obj<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘explode’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">explode</span><span class="token punctuation">(</span><br>    event<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> x <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span><br>      <span class="token keyword">var</span> y <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Explosion</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘clearExplosion’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">clearExplosion</span><span class="token punctuation">(</span><br>    explosion<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>explosion<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> ConfettiWorld<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></p><p><span class="token comment" spellcheck="true">// Time</span><br><span class="token keyword">var</span><br>Time <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></p><p>  <span class="token keyword">function</span> <span class="token function">Time</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Time<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>now <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// current tick time</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>prev <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// prev tick time</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// elapsed time from last tick</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>delta <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// time from last update</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>fps <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// desired fps</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>step <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// step duration</span><br>  <span class="token punctuation">}</span><span class="token function">_createClass</span><span class="token punctuation">(</span>Time<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘update’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><br>    time<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>now <span class="token operator">=</span> time<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>now <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prev<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>prev <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>now<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>delta <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘raf’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">raf</span><span class="token punctuation">(</span><br>    func<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘hasFrames’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">hasFrames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>delta <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>step<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘processFrame’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">processFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>delta <span class="token operator">-</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>step<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> Time<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></p><p><span class="token comment" spellcheck="true">// Canvas</span><br><span class="token keyword">var</span><br>Universe <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></p><p>  <span class="token keyword">function</span> <span class="token function">Universe</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Universe<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>el <span class="token operator">=</span> element<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>ctx <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">‘2d’</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>pixelRatio <span class="token operator">=</span> window<span class="token punctuation">.</span>devicePixelRatio<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>worlds <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>world <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// current state</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">‘resize’</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>updateSize<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addWorld</span><span class="token punctuation">(</span><span class="token string">‘confetti’</span><span class="token punctuation">,</span> ConfettiWorld<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setWorld</span><span class="token punctuation">(</span><span class="token string">‘confetti’</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token function">_createClass</span><span class="token punctuation">(</span>Universe<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘start’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">.</span><span class="token function">raf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tick<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘tick’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">tick</span><span class="token punctuation">(</span><br>    time<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">.</span><span class="token function">hasFrames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">.</span><span class="token function">processFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">.</span><span class="token function">raf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tick<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘update’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>world<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">.</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘render’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> gradient <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>world<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span></p><pre><code>&lt;span class=&quot;token comment&quot; spellcheck=&quot;true&quot;&gt;// Helpers 库&lt;/span&gt;</code></pre><p>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘updateSize’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">updateSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pixelRatio<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pixelRatio<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">+</span> <span class="token string">‘px’</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight <span class="token operator">+</span> <span class="token string">‘px’</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pixelRatio<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pixelRatio<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘addWorld’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">addWorld</span><span class="token punctuation">(</span><br>    worldName<span class="token punctuation">,</span> World<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>worlds<span class="token punctuation">[</span>worldName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">World</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>worlds<span class="token punctuation">[</span>worldName<span class="token punctuation">]</span><span class="token punctuation">.</span>universe <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>worlds<span class="token punctuation">[</span>worldName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">‘setWorld’</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">setWorld</span><span class="token punctuation">(</span><br>    worldName<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>world <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>worlds<span class="token punctuation">[</span>worldName<span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> Universe<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></p><p><span class="token comment" spellcheck="true">// Main</span></p><p>console<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">‘#canvas1’</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>window<span class="token punctuation">.</span>Canvas<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Universe</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><br></p></code></pre><p></p>]]></content>
    
    <summary type="html">
    
      
      
         &lt;h3 id=&quot;一款酷炫的动态背景-h5-canvas-js&quot;&gt;&lt;a href=&quot;#一款酷炫的动态背景-h5-canvas-js&quot; class=&quot;headerlink&quot; title=&quot;一款酷炫的动态背景(h5 canvas+js)&quot;&gt;&lt;/a&gt;一款酷炫的动态背景(h5 canva
      
    
    </summary>
    
      <category term="前端" scheme="https://fivecc.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="https://fivecc.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="canvas" scheme="https://fivecc.cn/tags/canvas/"/>
    
  </entry>
  
  <entry>
    <title>简单WiFi控制小车系统（树莓派＋python＋web控制界面)</title>
    <link href="https://fivecc.cn/jian-dan-wifi-xiao-che.html"/>
    <id>https://fivecc.cn/jian-dan-wifi-xiao-che.html</id>
    <published>2019-03-09T04:30:20.000Z</published>
    <updated>2019-11-23T12:07:48.962Z</updated>
    
    <content type="html"><![CDATA[ <p> </p>  <p>下面是小车 </p>  <p> </p>  <p><img src="https://uploadfiles.nowcoder.com/images/20190720/683055227_1563577171467_5A2F10B571AD4B7A6665FFBD7D0E0A19"></p>  <p> </p>  <p>好丑 对不对 ，不过反正可以蛇皮走位就行。</p>  <p>   蛇皮走位演示视频： <a href="https://pan.baidu.com/s/1RHHr8bRHWzSEAkrpwu99aw" target="_blank" rel="noopener">https://pan.baidu.com/s/1RHHr8bRHWzSEAkrpwu99aw</a></p>  <p> 只需要 一个 index.html  和Index.py 就可以实现 简单WiFi 控制小车。</p>  <p>需要准备</p>  <p>  python </p>  <p> <span style="color: rgb(243,59,69);">  bottle 库</span></p>  <h3> bottle 安装</h3>  <blockquote>   <p><span style="color: rgb(243,59,69);">命令： pip install bottle</span></p>  </blockquote>  <p><span style="color: rgb(243,59,69);"> </span><img src="https://uploadfiles.nowcoder.com/images/20190720/683055227_1563577171617_999F86F04AFC276F3F15E6B5C6DEEB4D"></p>  <p> </p>  <p>树莓派控制界面（web客户端）</p>  <p>  index.html </p> <pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>遥控树莓派<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>screen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://code.jquery.com/jquery.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">        <span class="token selector"><span class="token id">#front</span> </span><span class="token punctuation">{</span>            <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">55</span>px<span class="token punctuation">;</span>            <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">3</span>px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token id">#rear</span></span><span class="token punctuation">{</span>            <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">3</span>px<span class="token punctuation">;</span>            <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">55</span>px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.btn</span></span><span class="token punctuation">{</span>             <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#62559f</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">        <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/cmd"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>status<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>front<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-lg btn-primary glyphicon glyphicon-circle-arrow-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>leftFront<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-lg btn-primary glyphicon glyphicon-circle-arrow-left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>stop<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-lg btn-primary glyphicon glyphicon-stop<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>rightFront<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-lg btn-primary glyphicon glyphicon-circle-arrow-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>rear<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-lg btn-primary glyphicon glyphicon-circle-arrow-down<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>leftRear<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-lg btn-primary glyphicon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>左后转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>rightRear<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-lg btn-primary glyphicon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>右后转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p> </p><br><p>  js脚本解释：</p> <pre class=" language-js"><code class="language-js">  <span class="token operator">&lt;</span>script<span class="token operator">></span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/cmd"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>status<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//表示 按钮对应的id值 会被传入树莓派服务器中，就如同 你在树莓派的命令行（cmd）中输入 id 的值</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre> <p> </p>  <p>树莓派小车控制程序+we服务端</p>  <p> Index.py</p> <pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/env python3</span><span class="token comment" spellcheck="true"># -*- coding:utf-8 -*-</span><span class="token keyword">from</span> bottle <span class="token keyword">import</span> get<span class="token punctuation">,</span>post<span class="token punctuation">,</span>run<span class="token punctuation">,</span>request<span class="token punctuation">,</span>template<span class="token keyword">import</span> RPi<span class="token punctuation">.</span>GPIO <span class="token keyword">as</span> GPIO<span class="token keyword">import</span> time<span class="token keyword">import</span> sys <span class="token comment" spellcheck="true">####  定义Car类</span><span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>enab_pin <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">####  self.enab_pin是使能端的pin</span>        self<span class="token punctuation">.</span>inx_pin <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">####  self.inx_pin是控制端in的pin</span>        self<span class="token punctuation">.</span>RightAhead_pin <span class="token operator">=</span> self<span class="token punctuation">.</span>inx_pin<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>RightBack_pin <span class="token operator">=</span> self<span class="token punctuation">.</span>inx_pin<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>LeftAhead_pin <span class="token operator">=</span> self<span class="token punctuation">.</span>inx_pin<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>LeftBack_pin <span class="token operator">=</span> self<span class="token punctuation">.</span>inx_pin<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">####  分别是右轮前进，右轮退后，左轮前进，左轮退后的pin</span>        self<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  setup函数初始化端口</span>    <span class="token keyword">def</span> <span class="token function">setup</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"begin setup ena enb pin"</span><span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>setmode<span class="token punctuation">(</span>GPIO<span class="token punctuation">.</span>BCM<span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>setwarnings<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> pin <span class="token keyword">in</span> self<span class="token punctuation">.</span>enab_pin<span class="token punctuation">:</span>             GPIO<span class="token punctuation">.</span>setup<span class="token punctuation">(</span>pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>OUT<span class="token punctuation">)</span>            GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  初始化使能端pin，设置成高电平</span>        pin <span class="token operator">=</span> None        <span class="token keyword">for</span> pin <span class="token keyword">in</span> self<span class="token punctuation">.</span>inx_pin<span class="token punctuation">:</span>            GPIO<span class="token punctuation">.</span>setup<span class="token punctuation">(</span>pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>OUT<span class="token punctuation">)</span>            GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>LOW<span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  初始化控制端pin，设置成低电平</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"setup ena enb pin over"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  fornt函数，小车前进</span>    <span class="token keyword">def</span> <span class="token function">front</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RightAhead_pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>self<span class="token punctuation">.</span>LeftAhead_pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  leftFront函数，小车左拐弯</span>    <span class="token keyword">def</span> <span class="token function">leftFront</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RightAhead_pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  rightFront函数，小车右拐弯</span>    <span class="token keyword">def</span> <span class="token function">rightFront</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>self<span class="token punctuation">.</span>LeftAhead_pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  rear函数，小车后退</span>    <span class="token keyword">def</span> <span class="token function">rear</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RightBack_pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>self<span class="token punctuation">.</span>LeftBack_pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  leftRear函数，小车左退</span>    <span class="token keyword">def</span> <span class="token function">leftRear</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>self<span class="token punctuation">.</span>RightBack_pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  rightRear函数，小车右退</span>    <span class="token keyword">def</span> <span class="token function">rightRear</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token punctuation">)</span>        GPIO<span class="token punctuation">.</span>output<span class="token punctuation">(</span>self<span class="token punctuation">.</span>LeftBack_pin<span class="token punctuation">,</span>GPIO<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span><span class="token comment" spellcheck="true">####  定义main主函数</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">:</span>    car <span class="token operator">=</span> Car<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token string">"front"</span><span class="token punctuation">:</span>        car<span class="token punctuation">.</span>front<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token string">"leftFront"</span><span class="token punctuation">:</span>        car<span class="token punctuation">.</span>leftFront<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token string">"rightFront"</span><span class="token punctuation">:</span>        car<span class="token punctuation">.</span>rightFront<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token string">"rear"</span><span class="token punctuation">:</span>        car<span class="token punctuation">.</span>rear<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token string">"leftRear"</span><span class="token punctuation">:</span>        car<span class="token punctuation">.</span>leftRear<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token string">"rightRear"</span><span class="token punctuation">:</span>        car<span class="token punctuation">.</span>rightRear<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">elif</span> status <span class="token operator">==</span> <span class="token string">"stop"</span><span class="token punctuation">:</span>        car<span class="token punctuation">.</span>setup<span class="token punctuation">(</span><span class="token punctuation">)</span>      @get<span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> template<span class="token punctuation">(</span><span class="token string">"index"</span><span class="token punctuation">)</span>@post<span class="token punctuation">(</span><span class="token string">"/cmd"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">cmd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    adss<span class="token operator">=</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"按下了按钮:"</span><span class="token operator">+</span>adss<span class="token punctuation">)</span>    main<span class="token punctuation">(</span>adss<span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token string">"OK"</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">)</span></code></pre><p> </p>  <p>web服务端 实际就这点代码， 主要是 bottle 库的强大，（实际控制的小车的代码 根据自己的需求改就行了）</p>  <pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> bottle <span class="token keyword">import</span> get<span class="token punctuation">,</span>post<span class="token punctuation">,</span>run<span class="token punctuation">,</span>request<span class="token punctuation">,</span>template@get<span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> template<span class="token punctuation">(</span><span class="token string">"index"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#### 这个是 客户端请求 服务端就发给一个 index.html 控制界面给客户端</span>@post<span class="token punctuation">(</span><span class="token string">"/cmd"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">cmd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    adss<span class="token operator">=</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#### 接收到 客户端 发过来的数据</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"按下了按钮:"</span><span class="token operator">+</span>adss<span class="token punctuation">)</span>    main<span class="token punctuation">(</span>adss<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#### 传值到主函数 实现对应功能</span>    <span class="token keyword">return</span> <span class="token string">"OK"</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#### 开启服务端 </span></code></pre>  <p> </p>  <p>运行 index.py 开启服务器：</p>  <p><img src="https://uploadfiles.nowcoder.com/images/20190720/683055227_1563577171707_6C9E2E8EBBBD91957051E40B639B857E"></p>  <p>然后打开浏览器（手机浏览器也可以但必须在同一个局域网内） 输入 树莓派的ip 我的是 192.168.191.4：8080</p>  <p>有可能 打开比较慢  10分钟内吧 哈哈哈（我第一次打开 就用了好久 都以为没有成功）</p>  <p><img src="https://uploadfiles.nowcoder.com/images/20190720/683055227_1563577171844_5A2F10B571AD4B7A6665FFBD7D0E0A19"></p>  <p>手机端输入ip</p>  <p><img src="https://uploadfiles.nowcoder.com/images/20190720/683055227_1563577172142_5A2F10B571AD4B7A6665FFBD7D0E0A19"></p>  <p>登录成功！！！</p>  <p><img src="https://uploadfiles.nowcoder.com/images/20190720/683055227_1563577172207_329DE1FA0853595C53E2490CB8F18E33"></p>  <p> </p>  <p> </p>  <p>输入之后  服务器会给你抛出一个 index.html 控制文件。</p>  <p>然后就可以点击按键 控制小车了  下面是 服务端中反馈</p>  <p> </p>  <p><img src="https://uploadfiles.nowcoder.com/images/20190720/683055227_1563577172297_77FCF94413B1F270EF9A5546768A4306"></p>  <p>框架搭好后，根据自己需求更改 。</p>  <p> </p>  <h2><span style="color: rgb(243,59,69);">补充说明一下啊 因为我改过系统的语言和编码设置 （支持utf-8）</span></h2>  <h2><span style="color: rgb(243,59,69);">  详情 ：  </span><a href="https://blog.csdn.net/qq_41923622/article/details/86558600" target="_blank" rel="noopener">树莓派 设置系统中文 并安装中文输入法</a></h2>  <p>当很多人遇到</p>  <p><span style="color: rgb(243,59,69);">UnicodeDecodeError: ‘ascii’ codec can’t decode byte 0xe6 in position</span> 的错误，原因是python的str默认是ascii编码，和unicode编码冲突，就会报这个标题错误，解决办法是</p>  <p>1. 开头添加</p>  <p>                          import sys</p>  <p>                           reload(sys)</p>  <p>                           sys.setdefaultencoding(‘utf8’) </p>  <p> </p>  <h3><span style="color: rgb(51,153,234);">2.暴力一点，把所有中文字符 汉字什么的 包括注释了的 都统统删掉 也可以解决</span></h3>  <h2><span style="color: rgb(51,153,234);"> </span></h2>  <h2><span> 还有遇到 bottle 下载安装后 ，运行说 没有 安***ottle  可能是 你把 bottle 安装到 python 2.7 环境下，而在python3 环境下找不到。</span></h2>  <p><span>解决办法：</span></p>  <p><span>1 在命令行中 用对应pythonX  环境下运行</span></p>  <p><span>2.在执行脚本代码前 手动引包（</span><span style="color: rgb(243,59,69);">得找到bottle 安装路径</span><span>）</span></p>  <p> </p>  ]]></content>
    
    <summary type="html">
    
      
      
         &lt;p&gt; &lt;/p&gt;  &lt;p&gt;下面是小车 &lt;/p&gt;  &lt;p&gt; &lt;/p&gt;  &lt;p&gt;&lt;img src=&quot;https://uploadfiles.nowcoder.com/images/20190720/683055227_1563577171467_5A2F10B571AD4B7A66
      
    
    </summary>
    
      <category term="程序设计" scheme="https://fivecc.cn/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="树莓派" scheme="https://fivecc.cn/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="python" scheme="https://fivecc.cn/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>主题说明</title>
    <link href="https://fivecc.cn/zhu-ti-shuo-ming.html"/>
    <id>https://fivecc.cn/zhu-ti-shuo-ming.html</id>
    <published>2018-10-20T02:49:58.000Z</published>
    <updated>2019-11-23T12:10:55.341Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hexo-theme-matery"><a href="#hexo-theme-matery" class="headerlink" title="hexo-theme-matery"></a>hexo-theme-matery</h1><p><a href="http://hits.dwyl.io/blinkfox/hexo-theme-matery" target="_blank" rel="noopener"><img src="http://hits.dwyl.io/blinkfox/hexo-theme-matery.svg" alt="HitCount"></a> <a href="https://github.com/blinkfox/hexo-theme-matery/issues" target="_blank" rel="noopener"><img src="https://img.shields.io/github/issues/blinkfox/hexo-theme-matery.svg" alt="GitHub issues"></a> <a href="https://github.com/blinkfox/hexo-theme-matery/blob/master/LICENSE" target="_blank" rel="noopener"><img src="https://img.shields.io/github/license/blinkfox/hexo-theme-matery.svg" alt="GitHub license"></a> <a href="https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/downloads-master-green.svg" alt="Download"></a> <a href="http://hexo.io" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/hexo-%3E%3D%203.0-blue.svg" alt="Hexo Version"></a> <a href="https://github.com/blinkfox/hexo-theme-matery/network" target="_blank" rel="noopener"><img src="https://img.shields.io/github/forks/blinkfox/hexo-theme-matery.svg" alt="GitHub forks"></a> <a href="https://github.com/blinkfox/hexo-theme-matery/stargazers" target="_blank" rel="noopener"><img src="https://img.shields.io/github/stars/blinkfox/hexo-theme-matery.svg" alt="GitHub stars"></a></p><p><a href="README.md">English Document</a> | <a href="https://blinkfox.github.io/" target="_blank" rel="noopener">演示示例</a></p><blockquote><p>这是一个采用<code>Material Design</code>和响应式设计的 Hexo 博客主题。</p></blockquote><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul><li>简单漂亮，文章内容美观易读</li><li><a href="https://material.io/" target="_blank" rel="noopener">Material Design</a>设计</li><li>响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现</li><li>每天动态切换<code>Banner</code>图片</li><li>瀑布流式的博客文章列表(文章无特色图片时会有<code>24</code>张漂亮的图片代替)</li><li>时间轴式的归档页</li><li><strong>词云</strong>的标签页和<strong>雷达图</strong>的分类页</li><li><a href="https://gitalk.github.io/" target="_blank" rel="noopener">Gitalk</a>、<a href="https://imsun.github.io/gitment/" target="_blank" rel="noopener">Gitment</a>和<a href="https://disqus.com/" target="_blank" rel="noopener">Disqus</a>评论模块（推荐使用Gitalk）</li></ul><h2 id="后续开发计划"><a href="#后续开发计划" class="headerlink" title="后续开发计划"></a>后续开发计划</h2><ul><li><input checked disabled type="checkbox"> 重构标签页为<strong>可分页</strong></li><li><input checked disabled type="checkbox"> 重构归档页为<strong>可分页</strong></li><li><input checked disabled type="checkbox"> 增加分类页</li><li><input checked disabled type="checkbox"> 增加关于我页面</li><li><input disabled type="checkbox"> 美化滚动条</li><li><input checked disabled type="checkbox"> 集成<a href="https://gitalk.github.io/" target="_blank" rel="noopener">Gitalk</a></li><li><input checked disabled type="checkbox"> 右上角实现<code>fork me on github</code></li><li><input checked disabled type="checkbox"> 添加<code>RSS</code></li><li><input checked disabled type="checkbox"> 添加文章<code>TOC</code></li><li><del>网站底部加上访问量等统计功能</del>（主题使用者可以基于谷歌分析、百度统计、LeanCloud等来实现）</li><li><input checked disabled type="checkbox"> 首页设计和添加置顶文章</li><li><input checked disabled type="checkbox"> 文章结束后增加<strong>打赏</strong>功能</li><li><del>为博客添加萌萌的<strong>宠物</strong>或者<strong>成长树</strong>等</del>（可以使用<a href="https://github.com/EYHN/hexo-helper-live2d" target="_blank" rel="noopener">hexo-helper-live2d</a>插件来实现）</li></ul><blockquote><p>欢迎贡献!</p></blockquote><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>当你看到这里的时候，应该已经有一个自己的<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a>博客了，如果还没有的话，不妨使用 Hexo 和<a href="https://www.appinn.com/markdown/" target="_blank" rel="noopener">Markdown</a>来写博客和文章。</p><p>点击 <a href="https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master" target="_blank" rel="noopener">这里</a> 下载<code>master</code>分支的最新稳定版的代码，解压缩后，将<code>hexo-theme-matery</code>的文件夹复制到你 Hexo 的<code>themes</code>文件夹中即可。当然你也可以在你的<code>themes</code>文件夹下使用<code>Git clone</code>命令来下载:</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/blinkfox/hexo-theme-matery.git</code></pre><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="切换主题"><a href="#切换主题" class="headerlink" title="切换主题"></a>切换主题</h3><p>修改 Hexo 根目录下的<code>_config.yml</code>的<code>theme</code>的值：<code>theme: hexo-theme-matery</code></p><h4 id="config-yml文件的其它修改建议"><a href="#config-yml文件的其它修改建议" class="headerlink" title="_config.yml文件的其它修改建议:"></a><code>_config.yml</code>文件的其它修改建议:</h4><ul><li>请修改<code>_config.yml</code>的<code>url</code>的值为你的网站主<code>URL</code>（如：<code>http://xxx.github.io</code>）。</li><li>建议修改两个<code>per_page</code>的分页条数值为<code>6</code>的倍数，如：<code>12</code>、<code>18</code>等，这样文章列表在各个屏幕下都能较好的显示。</li><li>如果你是中文用户，则建议修改<code>language</code>的值为<code>zh-CN</code>。</li></ul><h3 id="新建分类-categories-页"><a href="#新建分类-categories-页" class="headerlink" title="新建分类 categories 页"></a>新建分类 categories 页</h3><p><code>categories</code>页是用来展示所有分类的页面，如果在你的博客<code>source</code>目录下还没有<code>categories/index.md</code>文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"categories"</span></code></pre><p>编辑你刚刚新建的页面文件<code>/source/categories/index.md</code>，至少需要以下内容：</p><pre class=" language-yml"><code class="language-yml">title: categoriesdate: 2018-09-30 17:25:30type: "categories"layout: "categories"</code></pre><h3 id="新建标签-tags-页"><a href="#新建标签-tags-页" class="headerlink" title="新建标签 tags 页"></a>新建标签 tags 页</h3><p><code>tags</code>页是用来展示所有标签的页面，如果在你的博客<code>source</code>目录下还没有<code>tags/index.md</code>文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"tags"</span></code></pre><p>编辑你刚刚新建的页面文件<code>/source/tags/index.md</code>，至少需要以下内容：</p><pre class=" language-yml"><code class="language-yml">title: tagsdate: 2018-09-30 18:23:38type: "tags"layout: "tags"</code></pre><h3 id="新建关于我-about-页"><a href="#新建关于我-about-页" class="headerlink" title="新建关于我 about 页"></a>新建关于我 about 页</h3><p><code>about</code>页是用来展示<strong>关于我和我的博客</strong>信息的页面，如果在你的博客<code>source</code>目录下还没有<code>about/index.md</code>文件，那么你就需要新建一个，命令如下：</p><pre class=" language-bash"><code class="language-bash">hexo new page <span class="token string">"about"</span></code></pre><p>编辑你刚刚新建的页面文件<code>/source/about/index.md</code>，至少需要以下内容：</p><pre class=" language-yml"><code class="language-yml">title: aboutdate: 2018-09-30 17:25:30type: "about"layout: "about"</code></pre><h3 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h3><p>由于 Hexo 自带的代码高亮主题显示不好看，所以主题中使用到了<a href="https://github.com/ele828/hexo-prism-plugin" target="_blank" rel="noopener">hexo-prism-plugin</a>的 Hexo 插件来做代码高亮，安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> i -S hexo-prism-plugin</code></pre><p>然后，修改 Hexo 根目录下<code>_config.yml</code>文件中<code>highlight.enable</code>的值为<code>false</code>，并新增<code>prism</code>插件相关的配置，主要配置如下：</p><pre class=" language-yml"><code class="language-yml">highlight:  enable: falseprism_plugin:  mode: 'preprocess'    # realtime/preprocess  theme: 'tomorrow'  line_number: false    # default false  custom_css:</code></pre><h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><p>本主题中还使用到了<a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener">hexo-generator-search</a>的 Hexo 插件来做内容搜索，安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-search --save</code></pre><p>在 Hexo 根目录下的<code>_config.yml</code>文件中，新增以下的配置项：</p><pre class=" language-yml"><code class="language-yml">search:  path: search.xml  field: post</code></pre><h3 id="中文链接转拼音（可选的）"><a href="#中文链接转拼音（可选的）" class="headerlink" title="中文链接转拼音（可选的）"></a>中文链接转拼音（可选的）</h3><p>如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于<code>SEO</code>，且<code>gitment</code>评论对中文链接也不支持。我们可以用<a href="https://github.com/viko16/hexo-permalink-pinyin" target="_blank" rel="noopener">hexo-permalink-pinyin</a> Hexo 插件使在生成文章时生成中文拼音的永久链接。</p><p>安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> i hexo-permalink-pinyin --save</code></pre><p>在 Hexo 根目录下的<code>_config.yml</code>文件中，新增以下的配置项：</p><pre class=" language-yml"><code class="language-yml">permalink_pinyin:  enable: true  separator: '-' # default: '-'</code></pre><blockquote><p><strong>注</strong>：除了此插件外，<a href="https://github.com/rozbo/hexo-abbrlink" target="_blank" rel="noopener">hexo-abbrlink</a>插件也可以生成非中文的链接。</p></blockquote><h3 id="添加RSS订阅支持（可选的）"><a href="#添加RSS订阅支持（可选的）" class="headerlink" title="添加RSS订阅支持（可选的）"></a>添加RSS订阅支持（可选的）</h3><p>本主题中还使用到了<a href="https://github.com/hexojs/hexo-generator-feed" target="_blank" rel="noopener">hexo-generator-feed</a>的 Hexo 插件来做<code>RSS</code>，安装命令如下：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-feed --save</code></pre><p>在 Hexo 根目录下的<code>_config.yml</code>文件中，新增以下的配置项：</p><pre class=" language-yml"><code class="language-yml">feed:  type: atom  path: atom.xml  limit: 20  hub:  content:  content_limit: 140  content_limit_delim: ' '  order_by: -date</code></pre><p>执行 <code>hexo clean &amp;&amp; hexo g</code>重新生成博客文件，然后在<code>public</code>文件夹中即可看到<code>atom.xml</code>文件，说明你已经安装成功了。</p><h3 id="修改社交链接"><a href="#修改社交链接" class="headerlink" title="修改社交链接"></a>修改社交链接</h3><p>在主题文件的<code>/layout/_partial/social-link.ejs</code>文件中，你可以修改或添加你需要的社交链接地址，增加链接可参考如下代码：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://github.com/blinkfox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>访问我的GitHub<span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fa fa-github<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><p>其中，社交图标（如：<code>fa-github</code>）你可以在<a href="https://fontawesome.com/icons" target="_blank" rel="noopener">Font Awesome</a>中搜索找到。以下是常用社交图标的标识，供你参考：</p><ul><li>Facebook: <code>fa-facebook</code></li><li>Twitter: <code>fa-twitter</code></li><li>Google-plus: <code>fa-google-plus</code></li><li>Linkedin: <code>fa-linkedin</code></li><li>Tumblr: <code>fa-tumblr</code></li><li>Medium: <code>fa-medium</code></li><li>Slack: <code>fa-slack</code></li><li>新浪微博: <code>fa-weibo</code></li><li>微信: <code>fa-wechat</code></li><li>QQ: <code>fa-qq</code></li></ul><blockquote><p><strong>注意</strong>: 本主题中使用的<code>Font Awesome</code>版本为<code>4.5.0</code>。</p></blockquote><h3 id="修改打赏的二维码图片"><a href="#修改打赏的二维码图片" class="headerlink" title="修改打赏的二维码图片"></a>修改打赏的二维码图片</h3><p>在主题文件的<code>source/medias/reward</code>文件中，你可以替换成你的的微信和支付宝的打赏二维码图片。</p><h2 id="文章Front-matter示例"><a href="#文章Front-matter示例" class="headerlink" title="文章Front-matter示例"></a>文章Front-matter示例</h2><p>以下为文章<code>Front-matter</code>的示例，所有内容均为<strong>非必填</strong>的。但是，仍然建议至少填写<code>title</code>的值，当然最好都填写上这些文章信息。</p><pre class=" language-yml"><code class="language-yml">---title: typora-vue-theme主题介绍date: 2018-09-07 09:25:00author: 赵奇img: /source/images/xxx.jpg # 或者:http://xxx.com/xxx.jpgtop: true # 如果top值为true，则会是首页推荐文章categories: Markdowntags:  - Typora  - Markdown---</code></pre><blockquote><p><strong>注意</strong>:</p><ol><li>如果<code>img</code>属性不填写的话，文章特色图会根据文章标题的<code>hashcode</code>的值取余，然后选取主题中对应的特色图片，从而达到让所有文章都的特色图<strong>各有特色</strong>。</li><li><code>date</code>的值尽量保证每篇文章是唯一的，因为本主题中<code>Gitment</code>识别<code>id</code>是通过<code>date</code>的值来作为唯一标识的。</li></ol></blockquote><h2 id="效果截图"><a href="#效果截图" class="headerlink" title="效果截图"></a>效果截图</h2><h3 id="首页"><a href="#首页" class="headerlink" title="首页"></a>首页</h3><p><img src="http://static.blinkfox.com/hexo-matery-index1.png" alt="首页"></p><p><img src="http://static.blinkfox.com/hexo-matery-index2.png" alt="首页文章列表"></p><h3 id="文章页"><a href="#文章页" class="headerlink" title="文章页"></a>文章页</h3><p><img src="http://static.blinkfox.com/hexo-matery-post1.png" alt="文章"></p><p><img src="http://static.blinkfox.com/hexo-matery-post2.png" alt="文章后续内容"></p><h2 id="自定制修改"><a href="#自定制修改" class="headerlink" title="自定制修改"></a>自定制修改</h2><p>在本主题的<code>_config.yml</code>中可以修改部分自定义信息，有以下几个部分：</p><ul><li>菜单</li><li>首页的励志名言</li><li><code>favicon</code> 和 <code>Logo</code></li><li>个人信息</li><li>TOC目录</li><li>我的项目</li><li>我的技能</li><li>我的相册</li><li><code>Gitalk</code>、<code>Gitment</code>和<code>disqus</code>评论配置</li><li>默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的<code>hashcode</code>值取余，来选择展示对应的特色图</li></ul><p><strong>我认为个人博客应该都有自己的风格和特色</strong>。如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的<code>_config.yml</code>中完成，需要修改源代码才来完成。以下列出了可能对你有用的地方：</p><h3 id="修改主题颜色"><a href="#修改主题颜色" class="headerlink" title="修改主题颜色"></a>修改主题颜色</h3><p>在主题文件的<code>/source/css/matery.css</code>文件中，搜索<code>.bg-color</code>来修改背景颜色：</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */</span><span class="token selector"><span class="token class">.bg-color</span> </span><span class="token punctuation">{</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#0f9d58</span> <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 和背景颜色相同的文字颜色，目前仅在首页一个地方使用到，你也可以将此样式应用到其他地方. */</span><span class="token selector"><span class="token class">.text-color</span> </span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#0f9d58</span> <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@-webkit-keyframes</span> rainbow</span> <span class="token punctuation">{</span>   <span class="token comment" spellcheck="true">/* 动态切换背景颜色. */</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@keyframes</span> rainbow</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/* 动态切换背景颜色. */</span><span class="token punctuation">}</span></code></pre><h3 id="修改banner图和文章特色图"><a href="#修改banner图和文章特色图" class="headerlink" title="修改banner图和文章特色图"></a>修改banner图和文章特色图</h3><p>你可以直接在<code>/source/medias/banner</code>文件夹中更换你喜欢的<code>banner</code>图片，主题代码中是每天动态切换一张，只需<code>7</code>张即可。如果你会<code>JavaScript</code>代码，可以修改成你自己喜欢切换逻辑，如：随机切换等，<code>banner</code>切换的代码位置在<code>/layout/_partial/bg-cover.ejs</code>文件的<code>&lt;script&gt;&lt;/script&gt;</code>代码中：</p><pre class=" language-javascript"><code class="language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url(/medias/banner/'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.jpg)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>在<code>/source/medias/featureimages</code>文件夹中默认有24张特色图片，你可以再增加或者减少，并需要在<code>_config.yml</code>做同步修改。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;hexo-theme-matery&quot;&gt;&lt;a href=&quot;#hexo-theme-matery&quot; class=&quot;headerlink&quot; title=&quot;hexo-theme-matery&quot;&gt;&lt;/a&gt;hexo-theme-matery&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;h
      
    
    </summary>
    
      <category term="前端" scheme="https://fivecc.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Hexo" scheme="https://fivecc.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>friend-斐波那契</title>
    <link href="https://fivecc.cn/friend-fei-bo-na-qi.html"/>
    <id>https://fivecc.cn/friend-fei-bo-na-qi.html</id>
    <published>2018-10-04T03:43:55.000Z</published>
    <updated>2019-11-23T12:09:38.312Z</updated>
    
    <content type="html"><![CDATA[<html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta name="viewport" content="width=device-width initial-scale=1"><title>friend-斐波那契</title><style type="text/css">html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }iframe { margin: auto; }a.url { word-break: break-all; }a:active, a:hover { outline: 0px; }.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; padding-bottom: 70px; overflow-x: visible; }.first-line-indent #write div, .first-line-indent #write li, .first-line-indent #write p { text-indent: 2em; }.first-line-indent #write div :not(p):not(div), .first-line-indent #write div.md-htmlblock-container, .first-line-indent #write p *, .first-line-indent pre { text-indent: 0px; }.for-image #write { padding-left: 8px; padding-right: 8px; }body.typora-export { padding-left: 30px; padding-right: 30px; }@media screen and (max-width: 500px) {  body.typora-export { padding-left: 0px; padding-right: 0px; }  .CodeMirror-sizer { margin-left: 0px !important; }  .CodeMirror-gutters { display: none !important; }}#write > blockquote:first-child, #write > div:first-child, #write > figure:first-child, #write > ol:first-child, #write > p:first-child, #write > pre:first-child, #write > ul:first-child { margin-top: 30px; }#write li > figure:first-child { margin-top: -20px; }#write ol, #write ul { position: relative; }img { max-width: 100%; vertical-align: middle; }button, input, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }*, ::after, ::before { box-sizing: border-box; }#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }p { orphans: 4; }h1 { font-size: 2rem; }h2 { font-size: 1.8rem; }h3 { font-size: 1.6rem; }h4 { font-size: 1.4rem; }h5 { font-size: 1.2rem; }h6 { font-size: 1rem; }.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }.hidden { display: none; }.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }a { cursor: pointer; }sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }figure > table { margin: 0px !important; }tr { break-inside: avoid; break-after: auto; }thead { display: table-header-group; }table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }table.md-table td { min-width: 80px; }.CodeMirror-gutters { border-right: 0px; background-color: inherit; }.CodeMirror { text-align: left; }.CodeMirror-placeholder { opacity: 0.3; }.CodeMirror pre { padding: 0px 4px; }.CodeMirror-lines { padding: 0px; }div.hr:focus { cursor: none; }#write pre { white-space: pre-wrap; }#write.fences-no-line-wrapping pre { white-space: pre; }#write pre.ty-contain-cm { white-space: normal; }.CodeMirror-gutters { margin-right: 4px; }.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }#write .md-fences.mock-cm { white-space: pre-wrap; }.md-fences.md-fences-with-lineno { padding-left: 0px; }#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }.CodeMirror-line, twitterwidget { break-inside: avoid; }.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }.footnotes + .footnotes { margin-top: 0px; }.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }li div { padding-top: 0px; }blockquote { margin: 1rem 0px; }li .mathjax-block, li p { margin: 0.5rem 0px; }li { margin: 0px; position: relative; }blockquote > :last-child { margin-bottom: 0px; }blockquote > :first-child, li > :first-child { margin-top: 0px; }.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }#write .footnote-line { white-space: pre-wrap; }@media print {  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }  #write { margin-top: 0px; border-color: transparent !important; }  .typora-export * { -webkit-print-color-adjust: exact; }  html.blink-to-pdf { font-size: 13px; }  .typora-export #write { padding-left: 1cm; padding-right: 1cm; padding-bottom: 0px; break-after: avoid; }  .typora-export #write::after { height: 0px; }  @page { margin: 20mm 0px; }}.footnote-line { margin-top: 0.714em; font-size: 0.7em; }a img, img a { cursor: pointer; }pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }p > img:only-child { display: block; margin: auto; }p > .md-image:only-child { display: inline-block; width: 100%; text-align: center; }#write .MathJax_Display { margin: 0.8em 0px 0px; }.md-math-block { width: 100%; }.md-math-block:not(:empty)::after { display: none; }[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }.md-task-list-item { position: relative; list-style-type: none; }.task-list-item.md-task-list-item { padding-left: 0px; }.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); }.math { font-size: 1rem; }.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }.md-toc-content { position: relative; margin-left: 0px; }.md-toc-content::after, .md-toc::after { display: none; }.md-toc-item { display: block; color: rgb(65, 131, 196); }.md-toc-item a { text-decoration: none; }.md-toc-inner:hover { }.md-toc-inner { display: inline-block; cursor: pointer; }.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }.md-toc-h2 .md-toc-inner { margin-left: 2em; }.md-toc-h3 .md-toc-inner { margin-left: 4em; }.md-toc-h4 .md-toc-inner { margin-left: 6em; }.md-toc-h5 .md-toc-inner { margin-left: 8em; }.md-toc-h6 .md-toc-inner { margin-left: 10em; }@media screen and (max-width: 48em) {  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }  .md-toc-h4 .md-toc-inner { margin-left: 5em; }  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }  .md-toc-h6 .md-toc-inner { margin-left: 8em; }}a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }.footnote-line a:not(.reversefootnote) { color: inherit; }.md-attr { display: none; }.md-fn-count::after { content: "."; }code, pre, samp, tt { font-family: var(--monospace); }kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }code { text-align: left; vertical-align: initial; }a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }.md-inline-math .MathJax_SVG .noError { display: none !important; }.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }.MathJax_SVG * { transition: none; }.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; }.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }.md-diagram-panel > svg { max-width: 100%; }[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; }[lang="mermaid"] .node text { font-size: 1rem; }table tr th { border-bottom: 0px; }video { max-width: 100%; display: block; margin: 0px auto; }iframe { max-width: 100%; width: 100%; border: none; }.highlight td, .highlight tr { border: 0px; }<p>.CodeMirror { height: auto; }<br>.CodeMirror.cm-s-inner { background: inherit; }<br>.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; z-index: 3; }<br>.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }<br>.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }<br>.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }<br>.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }<br>.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }<br>.cm-s-inner .cm-number { color: rgb(17, 102, 68); }<br>.cm-s-inner .cm-def { color: rgb(0, 0, 255); }<br>.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }<br>.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }<br>.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }<br>.cm-s-inner .cm-string { color: rgb(170, 17, 17); }<br>.cm-s-inner .cm-property { color: rgb(0, 0, 0); }<br>.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }<br>.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }<br>.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }<br>.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }<br>.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }<br>.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }<br>.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }<br>.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }<br>.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }<br>.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }<br>.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }<br>.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }<br>.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }<br>.cm-negative { color: rgb(221, 68, 68); }<br>.cm-positive { color: rgb(34, 153, 34); }<br>.cm-header, .cm-strong { font-weight: 700; }<br>.cm-del { text-decoration: line-through; }<br>.cm-em { font-style: italic; }<br>.cm-link { text-decoration: underline; }<br>.cm-error { color: red; }<br>.cm-invalidchar { color: red; }<br>.cm-constant { color: rgb(38, 139, 210); }<br>.cm-defined { color: rgb(181, 137, 0); }<br>div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }<br>div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }<br>.cm-s-inner .CodeMirror-activeline-background { background: inherit; }<br>.CodeMirror { position: relative; overflow: hidden; }<br>.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }<br>.CodeMirror-sizer { position: relative; }<br>.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }<br>.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }<br>.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }<br>.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }<br>.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }<br>.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }<br>.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }<br>.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }<br>.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }<br>.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }<br>.CodeMirror-lines { cursor: text; }<br>.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }<br>.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }<br>.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }<br>.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }<br>.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }<br>.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }<br>.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }<br>.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }<br>.CodeMirror-measure pre { position: static; }<br>.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }<br>.CodeMirror div.CodeMirror-cursor { visibility: hidden; }<br>.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }<br>.cm-searching { background: rgba(255, 255, 0, 0.4); }<br>@media print {<br>  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }<br>}</p><p>:root { –side-bar-bg-color: #fff; –control-text-color: #777; }<br>@font-face { font-family: “Roboto Mono”; font-style: normal; font-weight: 400; src: local(“Roboto Mono”), local(“RobotoMono-Regular”), url(“vue/L0x5DF4xlVMF-BfR8bXMIjhGq3-cXbKDO1w.woff2”) format(“woff2”); unicode-range: U+460-52F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; }<br>@font-face { font-family: “Roboto Mono”; font-style: normal; font-weight: 400; src: local(“Roboto Mono”), local(“RobotoMono-Regular”), url(“vue/L0x5DF4xlVMF-BfR8bXMIjhPq3-cXbKDO1w.woff2”) format(“woff2”); unicode-range: U+400-45F, U+490-491, U+4B0-4B1, U+2116; }<br>@font-face { font-family: “Roboto Mono”; font-style: normal; font-weight: 400; src: local(“Roboto Mono”), local(“RobotoMono-Regular”), url(“vue/L0x5DF4xlVMF-BfR8bXMIjhHq3-cXbKDO1w.woff2”) format(“woff2”); unicode-range: U+1F00-1FFF; }<br>@font-face { font-family: “Roboto Mono”; font-style: normal; font-weight: 400; src: local(“Roboto Mono”), local(“RobotoMono-Regular”), url(“vue/L0x5DF4xlVMF-BfR8bXMIjhIq3-cXbKDO1w.woff2”) format(“woff2”); unicode-range: U+370-3FF; }<br>@font-face { font-family: “Roboto Mono”; font-style: normal; font-weight: 400; src: local(“Roboto Mono”), local(“RobotoMono-Regular”), url(“vue/L0x5DF4xlVMF-BfR8bXMIjhEq3-cXbKDO1w.woff2”) format(“woff2”); unicode-range: U+102-103, U+110-111, U+1EA0-1EF9, U+20AB; }<br>@font-face { font-family: “Roboto Mono”; font-style: normal; font-weight: 400; src: local(“Roboto Mono”), local(“RobotoMono-Regular”), url(“vue/L0x5DF4xlVMF-BfR8bXMIjhFq3-cXbKDO1w.woff2”) format(“woff2”); unicode-range: U+100-24F, U+259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; }<br>@font-face { font-family: “Roboto Mono”; font-style: normal; font-weight: 400; src: local(“Roboto Mono”), local(“RobotoMono-Regular”), url(“vue/L0x5DF4xlVMF-BfR8bXMIjhLq3-cXbKD.woff2”) format(“woff2”); unicode-range: U+0-FF, U+131, U+152-153, U+2BB-2BC, U+2C6, U+2DA, U+2DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 300; src: local(“Source Sans Pro Light”), local(“SourceSansPro-Light”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwmhduz8A.woff2”) format(“woff2”); unicode-range: U+460-52F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 300; src: local(“Source Sans Pro Light”), local(“SourceSansPro-Light”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwkxduz8A.woff2”) format(“woff2”); unicode-range: U+400-45F, U+490-491, U+4B0-4B1, U+2116; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 300; src: local(“Source Sans Pro Light”), local(“SourceSansPro-Light”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwmxduz8A.woff2”) format(“woff2”); unicode-range: U+1F00-1FFF; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 300; src: local(“Source Sans Pro Light”), local(“SourceSansPro-Light”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwlBduz8A.woff2”) format(“woff2”); unicode-range: U+370-3FF; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 300; src: local(“Source Sans Pro Light”), local(“SourceSansPro-Light”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwmBduz8A.woff2”) format(“woff2”); unicode-range: U+102-103, U+110-111, U+1EA0-1EF9, U+20AB; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 300; src: local(“Source Sans Pro Light”), local(“SourceSansPro-Light”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwmRduz8A.woff2”) format(“woff2”); unicode-range: U+100-24F, U+259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 300; src: local(“Source Sans Pro Light”), local(“SourceSansPro-Light”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwlxdu.woff2”) format(“woff2”); unicode-range: U+0-FF, U+131, U+152-153, U+2BB-2BC, U+2C6, U+2DA, U+2DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 400; src: local(“Source Sans Pro Regular”), local(“SourceSansPro-Regular”), url(“vue/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNa7lqDY.woff2”) format(“woff2”); unicode-range: U+460-52F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 400; src: local(“Source Sans Pro Regular”), local(“SourceSansPro-Regular”), url(“vue/6xK3dSBYKcSV-LCoeQqfX1RYOo3qPK7lqDY.woff2”) format(“woff2”); unicode-range: U+400-45F, U+490-491, U+4B0-4B1, U+2116; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 400; src: local(“Source Sans Pro Regular”), local(“SourceSansPro-Regular”), url(“vue/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNK7lqDY.woff2”) format(“woff2”); unicode-range: U+1F00-1FFF; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 400; src: local(“Source Sans Pro Regular”), local(“SourceSansPro-Regular”), url(“vue/6xK3dSBYKcSV-LCoeQqfX1RYOo3qO67lqDY.woff2”) format(“woff2”); unicode-range: U+370-3FF; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 400; src: local(“Source Sans Pro Regular”), local(“SourceSansPro-Regular”), url(“vue/6xK3dSBYKcSV-LCoeQqfX1RYOo3qN67lqDY.woff2”) format(“woff2”); unicode-range: U+102-103, U+110-111, U+1EA0-1EF9, U+20AB; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 400; src: local(“Source Sans Pro Regular”), local(“SourceSansPro-Regular”), url(“vue/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNq7lqDY.woff2”) format(“woff2”); unicode-range: U+100-24F, U+259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 400; src: local(“Source Sans Pro Regular”), local(“SourceSansPro-Regular”), url(“vue/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7l.woff2”) format(“woff2”); unicode-range: U+0-FF, U+131, U+152-153, U+2BB-2BC, U+2C6, U+2DA, U+2DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 600; src: local(“Source Sans Pro SemiBold”), local(“SourceSansPro-SemiBold”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rwmhduz8A.woff2”) format(“woff2”); unicode-range: U+460-52F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 600; src: local(“Source Sans Pro SemiBold”), local(“SourceSansPro-SemiBold”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rwkxduz8A.woff2”) format(“woff2”); unicode-range: U+400-45F, U+490-491, U+4B0-4B1, U+2116; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 600; src: local(“Source Sans Pro SemiBold”), local(“SourceSansPro-SemiBold”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rwmxduz8A.woff2”) format(“woff2”); unicode-range: U+1F00-1FFF; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 600; src: local(“Source Sans Pro SemiBold”), local(“SourceSansPro-SemiBold”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rwlBduz8A.woff2”) format(“woff2”); unicode-range: U+370-3FF; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 600; src: local(“Source Sans Pro SemiBold”), local(“SourceSansPro-SemiBold”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rwmBduz8A.woff2”) format(“woff2”); unicode-range: U+102-103, U+110-111, U+1EA0-1EF9, U+20AB; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 600; src: local(“Source Sans Pro SemiBold”), local(“SourceSansPro-SemiBold”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rwmRduz8A.woff2”) format(“woff2”); unicode-range: U+100-24F, U+259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; }<br>@font-face { font-family: “Source Sans Pro”; font-style: normal; font-weight: 600; src: local(“Source Sans Pro SemiBold”), local(“SourceSansPro-SemiBold”), url(“vue/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rwlxdu.woff2”) format(“woff2”); unicode-range: U+0-FF, U+131, U+152-153, U+2BB-2BC, U+2C6, U+2DA, U+2DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; }<br>html { font-size: 16px; }<br>body { color: rgb(52, 73, 94); -webkit-font-smoothing: antialiased; line-height: 1.6rem; letter-spacing: 0px; margin: 0px; overflow-x: hidden; font-family: “Source Sans Pro”, “Helvetica Neue”, Arial, sans-serif !important; }</p><p>#write { max-width: 860px; margin: 0px auto; padding: 20px 30px 100px; }</p><p>#write p { line-height: 1.6rem; word-spacing: 0.05rem; }</p><p>#write ol li { padding-left: 0.5rem; }</p><p>#write &gt; ul:first-child, #write &gt; ol:first-child { margin-top: 30px; }<br>body &gt; :first-child { margin-top: 0px !important; }<br>body &gt; :last-child { margin-bottom: 0px !important; }<br>a { color: rgb(66, 185, 131); font-weight: 600; padding: 0px 2px; text-decoration: none; }<br>h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }<br>h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }<br>h1 tt, h1 code { font-size: inherit; }<br>h2 tt, h2 code { font-size: inherit; }<br>h3 tt, h3 code { font-size: inherit; }<br>h4 tt, h4 code { font-size: inherit; }<br>h5 tt, h5 code { font-size: inherit; }<br>h6 tt, h6 code { font-size: inherit; }<br>h2 a, h3 a { color: rgb(52, 73, 94); }<br>h3 a::before { content: “#”; color: rgb(66, 185, 131); position: absolute; left: -0.7em; margin-top: -0.05em; padding-right: 0.5em; font-size: 1.2em; line-height: 1; font-weight: bold; }<br>h1 { padding-bottom: 0.4rem; font-size: 2.2rem; line-height: 1.3; }<br>h2 { font-size: 1.75rem; line-height: 1.225; margin: 35px 0px 15px; padding-bottom: 0.5em; border-bottom: 1px solid rgb(221, 221, 221); }<br>h3 { font-size: 1.4rem; line-height: 1.43; margin: 20px 0px 7px; }<br>h4 { font-size: 1.2rem; }<br>h5 { font-size: 1rem; }<br>h6 { font-size: 1rem; color: rgb(119, 119, 119); }<br>p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }<br>li &gt; ol, li &gt; ul { margin: 0px; }<br>hr { height: 2px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; overflow: hidden; box-sizing: content-box; }<br>body &gt; h2:first-child { margin-top: 0px; padding-top: 0px; }<br>body &gt; h1:first-child { margin-top: 0px; padding-top: 0px; }<br>body &gt; h1:first-child + h2 { margin-top: 0px; padding-top: 0px; }<br>body &gt; h3:first-child, body &gt; h4:first-child, body &gt; h5:first-child, body &gt; h6:first-child { margin-top: 0px; padding-top: 0px; }<br>a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 { margin-top: 0px; padding-top: 0px; }<br>h1 p, h2 p, h3 p, h4 p, h5 p, h6 p { margin-top: 0px; }<br>li p.first { display: inline-block; }<br>ul, ol { padding-left: 30px; }<br>ul:first-child, ol:first-child { margin-top: 0px; }<br>ul:last-child, ol:last-child { margin-bottom: 0px; }<br>blockquote { border-left: 4px solid rgb(66, 185, 131); padding: 10px 0px 10px 15px; color: rgb(119, 119, 119); background-color: rgba(66, 185, 131, 0.1); }<br>table { padding: 0px; word-break: initial; }<br>table tr { border-top: 1px solid rgb(223, 226, 229); margin: 0px; padding: 0px; }<br>table tr:nth-child(2n), thead { background-color: rgb(250, 250, 250); }<br>table tr th { font-weight: bold; border-width: 1px 1px 0px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-top-color: rgb(223, 226, 229); border-right-color: rgb(223, 226, 229); border-left-color: rgb(223, 226, 229); border-image: initial; border-bottom-style: initial; border-bottom-color: initial; text-align: left; margin: 0px; padding: 6px 13px; }<br>table tr td { border: 1px solid rgb(223, 226, 229); text-align: left; margin: 0px; padding: 6px 13px; }<br>table tr th:first-child, table tr td:first-child { margin-top: 0px; }<br>table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }</p><p>#write strong { padding: 0px 1px; }</p><p>#write em { padding: 0px 5px 0px 2px; }</p><p>#write table thead th { background-color: rgb(242, 242, 242); }</p><p>#write .CodeMirror-gutters { border-right: none; }</p><p>#write .md-fences { border: 1px solid rgb(244, 244, 244); -webkit-font-smoothing: initial; line-height: 1.43rem; border-radius: 2px; font-size: 0.85rem; word-wrap: normal; margin: 0.8rem 0px !important; padding: 0.3rem 0rem !important; background-color: rgb(248, 248, 248) !important; font-family: “Roboto Mono”, “Source Sans Pro”, Monaco, courier, monospace !important; }</p><p>#write .CodeMirror-wrap .CodeMirror-code pre { padding-left: 12px; }</p><p>#write code, tt { margin: 0px 2px; padding: 2px 4px; border-radius: 2px; font-size: 0.92rem; color: rgb(233, 105, 0); background-color: rgb(248, 248, 248); font-family: “Source Sans Pro”, “Roboto Mono”, Monaco, courier, monospace !important; }</p><p>#write .md-footnote { background-color: rgb(248, 248, 248); color: rgb(233, 105, 0); }</p><p>#write mark { background-color: rgb(235, 255, 235); border-radius: 2px; padding: 2px 4px; margin: 0px 2px; color: rgb(34, 34, 34); font-weight: 500; }</p><p>#write del { padding: 1px 2px; }<br>.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(34, 162, 201); }<br>.cm-s-inner .cm-string { color: rgb(34, 162, 201); }<br>.md-task-list-item &gt; input { margin-left: -1.3em; }<br>@media screen and (min-width: 914px) {<br>}<br>@media print {<br>  html { font-size: 13px; }<br>  table, pre { break-inside: avoid; }<br>  pre { word-wrap: break-word; }<br>}<br>.md-fences { background-color: rgb(248, 248, 248); }</p><p>#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }<br>.mathjax-block &gt; .code-tooltip { bottom: 0.375rem; }</p><p>#write &gt; h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }</p><p>#write &gt; h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }</p><p>#write &gt; h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }</p><p>#write &gt; h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }<br>.md-image &gt; .md-meta { border-radius: 3px; font-family: Consolas, “Liberation Mono”, Courier, monospace; padding: 2px 0px 0px 4px; font-size: 0.9em; color: inherit; }<br>.md-tag { color: inherit; }<br>.md-toc { margin-top: 20px; padding-bottom: 20px; }<br>.sidebar-tabs { border-bottom: none; }</p><p>#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }</p><p>#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }</p><p>#md-notification::before { top: 10px; }<br>.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }<br>header, .context-menu, .megamenu-content, footer { font-family: “Segoe UI”, Arial, sans-serif; }<br>.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }<br>.mac-seamless-mode #typora-sidebar { background-color: var(–side-bar-bg-color); }<br>.md-lang { color: rgb(180, 101, 77); }<br>.html-for-mac .context-menu { –item-hover-bg-color: #E6F0FE; }</p><p> .typora-export p, .typora-export .footnote-line {white-space: normal;}<br></style><p></p><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body class="typora-export os-windows"><div id="write" class="is-node"><h1><a name="header-n2" class="md-header-anchor "></a>6264. friend-斐波那契</h1><p> </p><hr><p>Description</p><p>求f12+f22+f32+....+fn2， 其中 fi 代表斐波那契数列的第 i 项。 (f0=0,f1=1)当然结果会很大，请将它对 109+7取模。</p><p>输入格式</p><p>一行一个数 n.</p><p>输出格式</p><p>一行一个数，代表答案。</p><p>样例</p><p>样例输入</p><blockquote><p>6</p></blockquote><p>样例输出</p><blockquote><p>104</p></blockquote><p>数据范围与提示</p><p>对于30%的数据：n≤105。</p><p>对于另外20%的数据: 1000000∣n （即n是1000000的倍数），且n≤5∗109。</p><p>对于100%的数据：n≤1018。</p><p> </p><hr><p> </p><p>解体思路：首先需要搞清楚斐波那契数列求和蕴含的规律，先找到它的递归形式：</p><p><img src="file:///C:/Users/LHL/AppData/Local/Temp/msohtmlclip1/01/clip_image002.jpg" alt="img" referrerpolicy="no-referrer"></p><p>则其各项相加的平方和为：</p><p><img src="file:///C:/Users/LHL/AppData/Local/Temp/msohtmlclip1/01/clip_image004.jpg" alt="img" referrerpolicy="no-referrer"></p><p>以几何的手段证明：12+12+22+32+52+82=8×13</p><p><img src="file:///C:/Users/LHL/AppData/Local/Temp/msohtmlclip1/01/clip_image006.jpg" alt="img" referrerpolicy="no-referrer"></p><p>设斐波那契数列的各项为正方形边长，则所求平方和就是算正方形的面积，但是求幂运算需要循环逐个累乘，其复杂度为O(n)，这在很多时候是不够的，所以我们需要用快速幂——反复平方法来加速幂运算的过程，要想办法减少步骤，把其中的某一部分合成一步来进行。</p><p>比如，如果n能被2整除，那我们可以先计算一半，得到a^(n/2)的值，再把这个值平方得出结果。这样做虽然有优化，但优化的程度很小，仍是线性的复杂度。</p><p>再比如，如果我们能找到2k = n，那我们就能把原来的运算优化成((((a2) 2) 2)...)，只需要k次运算就可以完成，效率大大提升。可惜的是，这种条件显然太苛刻了，适用范围很小。不过这给了我们一种思路，虽然我们很难找到2k == n，但我们能够找到2k1 + 2k2 + 2k3 +......+ 2km =n。这样，我们可以通过层层递推，在很短的时间内求出各个项的值。可是又有新的问题出现了，我们并不清楚k1、k2...km具体的值是多少，对于不同的n，有不同分法，有没有一种规则能把这些分法统一起来。</p><p>我们都学习过进制与进制的转换，知道一个b进制数的值可以表示为各个数位的值与权值之积的总和。比如，2进制数1001，它的值可以表示为10进制的1<em>23 + 0</em>22 + 0<em>21 + 1</em>20，即9。这完美地符合了上面的要求。可以通过2进制来把n转化成2^km的序列之和，而2进制中第i位（从右边开始计数，值为1或是0）则标记了对应的2(i - 1)是否存在于序列之中。譬如，13为二进制的1101，他可以表示为23 + 22 + 20，其中由于第二位为0，21项被舍去。</p><p>如此一来，我们只需要计算a、a2、a4、a8......的值（这个序列中的项不一定都存在）并把它们乘起来即可完成整个幂运算。借助位运算的操作，可以很方便地实现这一算法，其复杂度为O(logn)。</p><p>套用以下模板：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable-3">long</span> <span class="cm-variable-3">long</span> <span class="cm-variable">ll</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text>​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ll</span> <span class="cm-def">quick_pow</span>(<span class="cm-variable">ll</span> <span class="cm-variable">a</span>, <span class="cm-variable">ll</span> <span class="cm-variable">n</span>)<span class="cm-comment">//a^n</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text>​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text>​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">ll</span> <span class="cm-variable">re</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text>​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-keyword">while</span>(<span class="cm-variable">n</span> <span class="cm-operator">!=</span> <span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text>​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text>​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-keyword">if</span>(<span class="cm-variable">n</span> <span class="cm-operator">&amp;</span> <span class="cm-number">1</span>)<span class="cm-comment">//判断n的最后一位是1还是0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">re</span> <span class="cm-operator">*=</span> <span class="cm-variable">a</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-variable">a</span> <span class="cm-operator">=</span> (<span class="cm-variable">a</span> <span class="cm-operator">*</span> <span class="cm-variable">a</span>);<span class="cm-comment">//将a平方，即把a^(2^i)变为a^(2^(i + 1))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">n</span> <span class="cm-operator">&gt;&gt;=</span> <span class="cm-number">1</span>;<span class="cm-comment">//n右移一位，舍去n的最后一位</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text>​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">re</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text>​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 476px;"></div><div class="CodeMirror-gutters" style="display: none; height: 476px;"></div></div></div></pre><p>本题需要取模，直接在每一步运算中对a和re取模即可。</p><p> AC代码：</p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#include&lt;string.h&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#include&lt;stdio.h&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#define ll long long</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#define MOD 1000000007</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">struct</span> <span class="cm-def">nobe</span>{ <span class="cm-variable">ll</span> <span class="cm-variable">a</span>[<span class="cm-number">2</span>][<span class="cm-number">2</span>];};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ll</span> <span class="cm-variable">n</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ll</span> <span class="cm-variable">sum</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">nobe</span> <span class="cm-def">mut</span>(<span class="cm-variable">nobe</span> <span class="cm-variable">x</span>,<span class="cm-variable">nobe</span> <span class="cm-variable">y</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">nobe</span> <span class="cm-variable">res</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">memset</span>(<span class="cm-variable">res</span>.<span class="cm-variable">a</span>,<span class="cm-number">0</span>,<span class="cm-keyword">sizeof</span>(<span class="cm-variable">res</span>.<span class="cm-variable">a</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span>(<span class="cm-variable">ll</span> <span class="cm-variable">i</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable">i</span><span class="cm-operator">&lt;</span><span class="cm-number">2</span>;<span class="cm-variable">i</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span>( <span class="cm-variable-3">int</span> <span class="cm-variable">j</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable">j</span><span class="cm-operator">&lt;</span><span class="cm-number">2</span>;<span class="cm-variable">j</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span>( <span class="cm-variable-3">int</span> <span class="cm-variable">k</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable">k</span><span class="cm-operator">&lt;</span><span class="cm-number">2</span>;<span class="cm-variable">k</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">res</span>.<span class="cm-variable">a</span>[<span class="cm-variable">i</span>][<span class="cm-variable">j</span>]<span class="cm-operator">=</span>(<span class="cm-variable">res</span>.<span class="cm-variable">a</span>[<span class="cm-variable">i</span>][<span class="cm-variable">j</span>]<span class="cm-operator">+</span><span class="cm-variable">x</span>.<span class="cm-variable">a</span>[<span class="cm-variable">i</span>][<span class="cm-variable">k</span>]<span class="cm-operator">*</span><span class="cm-variable">y</span>.<span class="cm-variable">a</span>[<span class="cm-variable">k</span>][<span class="cm-variable">j</span>])<span class="cm-operator">%</span><span class="cm-variable">MOD</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">return</span> <span class="cm-variable">res</span>;}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">quick</span>(<span class="cm-variable">ll</span> <span class="cm-variable">n</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">nobe</span> <span class="cm-variable">c</span>,<span class="cm-variable">res</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">c</span>.<span class="cm-variable">a</span>[<span class="cm-number">0</span>][<span class="cm-number">0</span>]<span class="cm-operator">=</span><span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">c</span>.<span class="cm-variable">a</span>[<span class="cm-number">0</span>][<span class="cm-number">1</span>]<span class="cm-operator">=</span><span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">c</span>.<span class="cm-variable">a</span>[<span class="cm-number">1</span>][<span class="cm-number">0</span>]<span class="cm-operator">=</span><span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">c</span>.<span class="cm-variable">a</span>[<span class="cm-number">1</span>][<span class="cm-number">1</span>]<span class="cm-operator">=</span><span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">memset</span>(<span class="cm-variable">res</span>.<span class="cm-variable">a</span>,<span class="cm-number">0</span>,<span class="cm-keyword">sizeof</span>(<span class="cm-variable">res</span>.<span class="cm-variable">a</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">i</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable">i</span><span class="cm-operator">&lt;</span><span class="cm-number">2</span>;<span class="cm-variable">i</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">res</span>.<span class="cm-variable">a</span>[<span class="cm-variable">i</span>][<span class="cm-variable">i</span>]<span class="cm-operator">=</span><span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-variable">n</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;  { &nbsp;<span class="cm-variable">cont</span><span class="cm-operator">++</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">n</span><span class="cm-operator">&amp;</span><span class="cm-number">1</span>)<span class="cm-variable">res</span><span class="cm-operator">=</span><span class="cm-variable">mut</span>(<span class="cm-variable">res</span>,<span class="cm-variable">c</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">c</span><span class="cm-operator">=</span><span class="cm-variable">mut</span>(<span class="cm-variable">c</span>,<span class="cm-variable">c</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">n</span><span class="cm-operator">=</span><span class="cm-variable">n</span><span class="cm-operator">&gt;&gt;</span><span class="cm-number">1</span>; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printf</span>(<span class="cm-string">"%ld\n"</span>,((<span class="cm-variable">res</span>.<span class="cm-variable">a</span>[<span class="cm-number">0</span>][<span class="cm-number">1</span>]<span class="cm-operator">%</span><span class="cm-variable">MOD</span>)<span class="cm-operator">*</span>(<span class="cm-variable">res</span>.<span class="cm-variable">a</span>[<span class="cm-number">0</span>][<span class="cm-number">1</span>]<span class="cm-operator">%</span><span class="cm-variable">MOD</span><span class="cm-operator">+</span><span class="cm-variable">res</span>.<span class="cm-variable">a</span>[<span class="cm-number">1</span>][<span class="cm-number">1</span>]<span class="cm-operator">%</span><span class="cm-variable">MOD</span>))<span class="cm-operator">%</span><span class="cm-variable">MOD</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-variable">scanf</span>(<span class="cm-string">"%ld"</span>,<span class="cm-operator">&amp;</span><span class="cm-variable">n</span>)<span class="cm-operator">!=</span><span class="cm-variable">EOF</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  { &nbsp; &nbsp; <span class="cm-variable">quick</span>(<span class="cm-variable">n</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text>​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">return</span> <span class="cm-number">0</span>;}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 839px;"></div><div class="CodeMirror-gutters" style="display: none; height: 839px;"></div></div></div></pre><p>&nbsp;</p></div></body></html><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span><span class="token macro property">#<span class="token directive keyword">define</span> MOD 1000000007</span><span class="token keyword">struct</span> nobe<span class="token punctuation">{</span> ll a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>ll n<span class="token punctuation">;</span>ll sum<span class="token punctuation">;</span>nobe <span class="token function">mut</span><span class="token punctuation">(</span>nobe x<span class="token punctuation">,</span>nobe y<span class="token punctuation">)</span><span class="token punctuation">{</span>nobe res<span class="token punctuation">;</span><span class="token function">memset</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>a<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>ll i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span>      res<span class="token punctuation">.</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span>x<span class="token punctuation">.</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">*</span>y<span class="token punctuation">.</span>a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">%</span>MOD<span class="token punctuation">;</span><span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">quick</span><span class="token punctuation">(</span>ll n<span class="token punctuation">)</span><span class="token punctuation">{</span>      nobe c<span class="token punctuation">,</span>res<span class="token punctuation">;</span>        c<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>        c<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>        c<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>        c<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>          <span class="token function">memset</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>a<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>                res<span class="token punctuation">.</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>          <span class="token punctuation">{</span>  cont<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span>res<span class="token operator">=</span><span class="token function">mut</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>                      c<span class="token operator">=</span><span class="token function">mut</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>            n<span class="token operator">=</span>n<span class="token operator">>></span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%ld\n"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%</span>MOD<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%</span>MOD<span class="token operator">+</span>res<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%</span>MOD<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span>MOD<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%ld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token operator">!=</span><span class="token constant">EOF</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>     <span class="token function">quick</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;html&gt;
&lt;head&gt;&lt;meta name=&quot;generator&quot; content=&quot;Hexo 3.9.0&quot;&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width initial-sc
      
    
    </summary>
    
      <category term="程序设计" scheme="https://fivecc.cn/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="ACM" scheme="https://fivecc.cn/tags/ACM/"/>
    
      <category term="水题" scheme="https://fivecc.cn/tags/%E6%B0%B4%E9%A2%98/"/>
    
      <category term="快速幂" scheme="https://fivecc.cn/tags/%E5%BF%AB%E9%80%9F%E5%B9%82/"/>
    
  </entry>
  
  <entry>
    <title>搭桥</title>
    <link href="https://fivecc.cn/da-qiao.html"/>
    <id>https://fivecc.cn/da-qiao.html</id>
    <published>2018-09-29T03:43:55.000Z</published>
    <updated>2018-10-20T16:38:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>题目：搭桥<br>题目链接：<a href="http://codevs.cn/problem/1002/" target="_blank" rel="noopener">http://codevs.cn/problem/1002/</a><br>题目描述 Description<br>有一矩形区域的城市中建筑了若干建筑物，如果某两个单元格有一个点相联系，则它们属于同一座建筑物。现在想在这些建筑物之间搭建一些桥梁，其中桥梁只能沿着矩形的方格的边沿搭建，如下图城市1有5栋建筑物，可以搭建4座桥将建筑物联系起来。城市2有两座建筑物，但不能搭建桥梁将它们连接。城市3只有一座建筑物，城市4有3座建筑物，可以搭建一座桥梁联系两栋建筑物，但不能与第三座建筑物联系在一起。</p><p>输入描述 Input Description<br>在输入的数据中的第一行包含描述城市的两个整数r 和c, 分别代表从北到南、从东到西的城市大小(1 &lt;= r &lt;= 50 and 1 &lt;=  c &lt;= 50). 接下来的r 行, 每一行由c 个(“#”)和(“.”)组成的字符. 每一个字符表示一个单元格。“#”表示建筑物，“.”表示空地。</p><p>输出描述 Output Description<br>在输出的数据中有两行，第一行表示建筑物的数目。第二行输出桥的数目和所有桥的总长度。<br>样例输入 Sample Input<br>样例1<br>3 5</p><p>#…#<br>..#..</p><p>#…#</p><p>样例2<br>3 5</p><p>##…<br>…..<br>….#</p><p>样例3<br>3 5</p><p>#.###</p><p>#.#.#</p><p>###.#</p><p>样例4:<br>3 5</p><p>#.#..<br>…..<br>….#</p><p>样例输出 Sample Output<br>样例1<br>5<br>4 4</p><p>样例2<br>2<br>0 0</p><p>样例3<br>1<br>0 0</p><p>样例4<br>3<br>1 1<br>                                      题解</p><p>题意概括： 一，先找到该城市有多少楼，即矩阵（城市）中有多少联通块（楼）。<br>           二，通过桥将该城市的楼互通，即每两两楼之间可间接或直接到达。</p><p>解题思路： 针对 一， 遍历输入矩阵，遇到不是空地（即是楼的部分），则进入该楼区域，用DFS搜联通块（该楼的全部区域）并过程中给每个楼编号。<br>           针对 二，遍历输入矩阵，遇到满足可以架桥的楼的部分，开始横向或纵向架桥，<br>           遇到其它楼（不是空地且不是同一栋楼），则保存该可行桥信息并结束此次架桥。<br>           找到所有可行桥。按桥长从小到大给所有可行桥排序。然后按从小到大，用并查集来获取最少桥数与最短桥总长。</p><pre><code>    寻可行桥图解</code></pre><p>一，    图1中 红线边代表可以作为架桥的桥头，绿线代表作为架桥的桥尾。<br> 2 与 3 满足架桥桥头条件，遍历到2和3处 可以进行架可行桥。</p><pre><code>             图1</code></pre><p>二，以 2为例  若横向架长为1的桥 则桥尾可落在 A,B,C 框中，而A,B,C均为空地则增加桥长，直到找到一个可以作为桥尾的边 如图3 找到了C区域，记录桥信息并结束本次架桥，开始纵向架桥，完成后，遍历到 3的位子继续架桥，知道遍历完所有</p><p>   图2                                          图3</p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> N 55</span><span class="token macro property">#<span class="token directive keyword">define</span> Min(a,b)  a>b?b:a</span><span class="token keyword">struct</span> node<span class="token punctuation">{</span><span class="token keyword">int</span> q1<span class="token punctuation">,</span>q2<span class="token punctuation">,</span>qw<span class="token punctuation">;</span><span class="token punctuation">}</span>Q<span class="token punctuation">[</span>N<span class="token operator">*</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//存储桥的信息 桥头 桥尾 桥长</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>c<span class="token punctuation">;</span><span class="token keyword">int</span> Map<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//输入矩阵</span><span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//8个方位</span><span class="token keyword">int</span> dy<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> q_ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//所有可行桥数</span><span class="token keyword">int</span> F<span class="token punctuation">[</span>N<span class="token operator">*</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//用于并查集头数组</span><span class="token keyword">int</span> Q_C<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//桥总长</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//桥总长</span><span class="token comment" spellcheck="true">//并查集寻头节点（递归版）</span><span class="token keyword">int</span> <span class="token function">find1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>F<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">!=</span>a<span class="token punctuation">)</span><span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">return</span> F<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">find1</span><span class="token punctuation">(</span>F<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//深搜获得楼房数 以及给楼房编号</span><span class="token keyword">void</span> <span class="token function">DFS</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">,</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">int</span> xx<span class="token punctuation">,</span>yy<span class="token punctuation">,</span>k<span class="token punctuation">;</span>Map<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>num<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//给楼编号</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>  xx<span class="token operator">=</span>x<span class="token operator">+</span>dx<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>yy<span class="token operator">=</span>y<span class="token operator">+</span>dy<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token keyword">if</span><span class="token punctuation">(</span>Map<span class="token punctuation">[</span>xx<span class="token punctuation">]</span><span class="token punctuation">[</span>yy<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token function">DFS</span><span class="token punctuation">(</span>xx<span class="token punctuation">,</span>yy<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//检查函数 判断两点是否可建桥</span><span class="token keyword">int</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">,</span><span class="token keyword">int</span> x1<span class="token punctuation">,</span><span class="token keyword">int</span> y1<span class="token punctuation">,</span><span class="token keyword">int</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//无建筑 或为同一建筑直接返回</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Map<span class="token punctuation">[</span>x1<span class="token punctuation">]</span><span class="token punctuation">[</span>y1<span class="token punctuation">]</span><span class="token operator">||</span>Map<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">==</span>Map<span class="token punctuation">[</span>x1<span class="token punctuation">]</span><span class="token punctuation">[</span>y1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  q_ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//可行桥数+1</span>     <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>Q<span class="token punctuation">[</span>q_ans<span class="token punctuation">]</span><span class="token punctuation">.</span>q1<span class="token operator">=</span>Map<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">,</span>Q<span class="token punctuation">[</span>q_ans<span class="token punctuation">]</span><span class="token punctuation">.</span>q2<span class="token operator">=</span>Map<span class="token punctuation">[</span>x1<span class="token punctuation">]</span><span class="token punctuation">[</span>y1<span class="token punctuation">]</span><span class="token punctuation">,</span>Q<span class="token punctuation">[</span>q_ans<span class="token punctuation">]</span><span class="token punctuation">.</span>qw<span class="token operator">=</span>y1<span class="token operator">-</span>y<span class="token number">-1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当建桥方向为横向（向右）存储桥信息</span>     <span class="token keyword">else</span> Q<span class="token punctuation">[</span>q_ans<span class="token punctuation">]</span><span class="token punctuation">.</span>q1<span class="token operator">=</span>Map<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">,</span>Q<span class="token punctuation">[</span>q_ans<span class="token punctuation">]</span><span class="token punctuation">.</span>q2<span class="token operator">=</span>Map<span class="token punctuation">[</span>x1<span class="token punctuation">]</span><span class="token punctuation">[</span>y1<span class="token punctuation">]</span><span class="token punctuation">,</span>Q<span class="token punctuation">[</span>q_ans<span class="token punctuation">]</span><span class="token punctuation">.</span>qw<span class="token operator">=</span>x1<span class="token operator">-</span>x<span class="token number">-1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当建桥方向为纵向（向下）存储桥信息</span>     <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//找桥尾楼</span><span class="token keyword">void</span> <span class="token function">FQ_end</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">,</span><span class="token keyword">int</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">int</span> k<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//横向（向右）方向</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span>k<span class="token operator">=</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>x<span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token function">check</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token function">check</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>x<span class="token number">-1</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//纵向（向下）方向</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span>k<span class="token operator">=</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>k<span class="token punctuation">,</span>y<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token function">check</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>k<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token function">check</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>k<span class="token punctuation">,</span>y<span class="token number">-1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//建立可行桥</span><span class="token keyword">void</span> <span class="token function">BulidQ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>      <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>Map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>Map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">FQ_end</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">//满足横向（右方）向架桥</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>Map<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>Map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">FQ_end</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">//满足纵向（下方）向架桥</span>         <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//并查集 寻最少桥数与最短桥总长</span><span class="token keyword">int</span>  <span class="token function">BCJ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">int</span> i<span class="token punctuation">,</span>top1<span class="token punctuation">,</span>top2<span class="token punctuation">,</span>count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>ans<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>F<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//初始化</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>q_ans<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//从小到达遍历可行桥</span> <span class="token punctuation">{</span>      top1<span class="token operator">=</span><span class="token function">find1</span><span class="token punctuation">(</span>Q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//找到该桥头楼的主楼（头节点）</span>      top2<span class="token operator">=</span><span class="token function">find1</span><span class="token punctuation">(</span>Q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//找到该桥尾楼的主楼（头节点）</span>      <span class="token keyword">if</span><span class="token punctuation">(</span>top1<span class="token operator">!=</span>top2<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//若两主楼不是同一楼，则通过该桥建立连接共用主楼</span>          F<span class="token punctuation">[</span>top1<span class="token punctuation">]</span><span class="token operator">=</span>top2<span class="token punctuation">;</span>          count1<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//桥数+1</span>          Q_C<span class="token operator">+</span><span class="token operator">=</span>Q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>qw<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//更新桥总长 桥总长+该桥长度</span>      <span class="token punctuation">}</span> <span class="token punctuation">}</span>  <span class="token keyword">return</span> count1<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span><span class="token keyword">char</span> z<span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>Map<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Map<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">memset</span><span class="token punctuation">(</span>F<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>F<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//处理字符串</span>        <span class="token punctuation">{</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>z<span class="token operator">==</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>Map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>z<span class="token operator">==</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>Map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>        <span class="token punctuation">}</span>   <span class="token comment" spellcheck="true">//获得楼房数 以及给楼房编号</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>c<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>Map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token function">DFS</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">,</span>ans<span class="token operator">++</span><span class="token punctuation">,</span>num<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token function">BulidQ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//给桥长排序从小到大（选择排序）</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>q_ans<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>q_ans<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>Q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>qw<span class="token operator">></span>Q<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>qw<span class="token punctuation">)</span><span class="token punctuation">{</span>node tem<span class="token operator">=</span>Q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>Q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>Q<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> Q<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>tem<span class="token punctuation">;</span><span class="token punctuation">}</span>   <span class="token keyword">int</span> res<span class="token operator">=</span><span class="token function">BCJ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n%d %d\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">,</span>res<span class="token punctuation">,</span>Q_C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*5 5##......#####....###...##3 5#...#..#..#...#5 5##.......##...###.....### */</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;题目：搭桥&lt;br&gt;题目链接：&lt;a href=&quot;http://codevs.cn/problem/1002/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://codevs.cn/problem/1002/&lt;/a&gt;&lt;br&gt;题目描述 Descript
      
    
    </summary>
    
    
      <category term="ACM" scheme="https://fivecc.cn/tags/ACM/"/>
    
      <category term="搜索" scheme="https://fivecc.cn/tags/%E6%90%9C%E7%B4%A2/"/>
    
  </entry>
  
  <entry>
    <title>测试</title>
    <link href="https://fivecc.cn/dai-ma-ce-shi.html"/>
    <id>https://fivecc.cn/dai-ma-ce-shi.html</id>
    <published>2018-09-28T03:43:55.000Z</published>
    <updated>2018-10-20T16:38:39.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="汉诺塔游戏"><a href="#汉诺塔游戏" class="headerlink" title="汉诺塔游戏"></a>汉诺塔游戏</h1><pre><code>                                      时间限制: 1 s｜空间限制: 32000 KB</code></pre><p>题目描述 Description</p><p>汉诺塔问题（又称为河内塔问题），是一个大家熟知的问题。在A，B，C三根柱子上，</p><p>有n个不同大小的圆盘（假设半径分别为1-n吧），一开始他们都叠在我A上（如图所示），</p><p>你的目标是在最少的合法移动步数内将所有盘子从A塔移动到C塔。</p><p>游戏中的每一步规则如下：</p><ol><li><p>每一步只允许移动一个盘子（从一根柱子最上方到另一个柱子的最上方）</p></li><li><p>移动的过程中，你必须保证大的盘子不能在小的盘子上方</p></li></ol><p>（小的可以放在大的上面，最大盘子下面不能有任何其他大小的盘子）</p><p>如对于n=3的情况，一个合法的移动序列式：</p><p>1 from A to C</p><p>2 from A to B</p><p>1 from C to B</p><p>3 from A to C</p><p>1 from B to A</p><p>2 from B to C</p><p>1 from A to C</p><p>给出一个数n，求出最少步数的移动序列</p><p>输入描述 Input Description</p><p>一个整数n</p><p>输出描述 Output Description</p><p>第一行一个整数k，代表是最少的移动步数。</p><p>接下来k行，每行一句话，N from X to Y，表示把N号盘从X柱移动到Y柱。X,Y属于{A,B,C}</p><p>样例输入 Sample Input</p><p>3</p><p>样例输出 Sample Output</p><p>7</p><p>1 from A to C</p><p>2 from A to B</p><p>1 from C to B</p><p>3 from A to C</p><p>1 from B to A</p><p>2 from B to C</p><p>1 from A to C</p><p>数据范围及提示 Data Size &amp; Hint</p><p>n&lt;=10</p><p>思路分析：</p><p>我们设定三个柱子A,B,C。我们的目的是将环从A–&gt;C。（A为起始位置，C为目标位置）</p><p>当N=1即一阶时它的路径很简单只需要从A-&gt;C进行移动。</p><p>当N=2时我们需要进行三步：</p><pre><code>               1.小盘 A-&gt;B </code></pre><p>  (假想没有大盘只有小盘，与N=1 的步骤一样，只是目标位置变为了 B)</p><pre><code>               2.大盘 A-&gt;C </code></pre><p>  (大盘上面的小盘到B去了，与N=1 的步骤一样直接到C )</p><pre><code>               3.小盘 B-&gt;C</code></pre><p> (大盘到了C,对于小盘而言,C可以看作无盘，与N=1 的步骤一样，只是起始位置变为 B )</p><p>   (分解一下，小盘从A通过B作为中间目标再到C。可以这样想 </p><p>  小盘下面的大盘目标是C 所以小盘第一次目标则变成B,</p><p>  等到大盘到了目标C ,小盘再到C。</p><p>  则完成将大小盘按小盘在上大盘在下的要求移到C。）</p><p> 当N=3时我们需要进行七步：</p><pre><code>          1. 小盘 A-&gt;C  2.中盘 A-&gt;B  3.小盘  C-&gt;B </code></pre><p>   (假想没有大盘只有小盘和中盘，与N=2 的步骤一样，只是目标位置变为了 B)</p><pre><code>          4. 大盘 A-&gt;C,(大盘上面的小盘和中盘都到B去了，与N=1 的步骤一样直接到C )          5. 小盘 B-&gt;A  6.中盘 B-&gt;C  7.小盘  A-&gt;C</code></pre><p>   (大盘到了C,对于小盘和中盘而言,C可以看作无盘，与N=2 的步骤一样，只是起始位置变为了 B )</p><p>   (分解一下，大盘想从A去C。但上面压着小盘与中盘 ，</p><p>   所以得先把他们移开 并且上面两盘不能移动到C,得移动到B 去</p><p>  就相当于N=2时，起始位置A到目标位置B。待大盘移动到C。</p><p> 当前在B 的小盘和中盘，完全就是执行N=2 的步骤。从当前起始位置B 到目标位置C.)</p><p>如此执行，通过递归方式。代码思路如下：</p><ol><li>对于执行最大盘（n） 到C的操作之前，肯定是?把次大盘（n-1）从A移动到 B<pre><code>    2. 执行最大盘（n） 到C的操作    3.对于执行最大盘（n） 到C的操作之后，肯定是?把次大盘（n-1）从B移动到C</code></pre></li></ol><p>   每次只关心上一层，上上层是到了上一层才考虑的事——递归</p><p>题目链接：<a href="http://codevs.cn/problem/3145/" target="_blank" rel="noopener">http://codevs.cn/problem/3145/</a></p><pre><code>```C++#include &lt;stdio.h&gt;void han(int n, char A, char B, char C){    if(n == 1)printf(&quot;%d from %c to %c\n&quot;, n, A, C);    else{&#x2F;&#x2F;第一步  对于执行最大盘（n） 到C的操作之前    han(n-1, A, C, B);&#x2F;&#x2F;第二步  执行最大盘（n） 到C的操作     printf(&quot;%d from %c to %c\n&quot;, n, A, C);&#x2F;&#x2F;第三步  对于执行最大盘（n） 到C的操作之后     han(n-1, B, A, C);    }}int main(){    int n;    scanf(&quot;%d&quot;, &amp;n);    printf(&quot;%d\n&quot;, (1 &lt;&lt; n) - 1);    han(n, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;);    return 0;}```</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;汉诺塔游戏&quot;&gt;&lt;a href=&quot;#汉诺塔游戏&quot; class=&quot;headerlink&quot; title=&quot;汉诺塔游戏&quot;&gt;&lt;/a&gt;汉诺塔游戏&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;                                      时间限制: 1 s｜空间
      
    
    </summary>
    
    
      <category term="ACM" scheme="https://fivecc.cn/tags/ACM/"/>
    
      <category term="水题" scheme="https://fivecc.cn/tags/%E6%B0%B4%E9%A2%98/"/>
    
      <category term="测试" scheme="https://fivecc.cn/tags/%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>同时部署coding与github</title>
    <link href="https://fivecc.cn/tong-shi-bu-shu-coding-yu-github.html"/>
    <id>https://fivecc.cn/tong-shi-bu-shu-coding-yu-github.html</id>
    <published>2018-09-28T03:43:55.000Z</published>
    <updated>2019-11-23T12:10:38.867Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前我是把hexo托管在github，但是毕竟github是国外的，访问速度上还是有点慢，所以想也部署一套在国内的托管平台，<br>所以就决定部署到coding。 查询了多方资料，终于鼓捣出了本地一次部署，同时更新到github以及coding。</p><h5 id="具体过程如下："><a href="#具体过程如下：" class="headerlink" title="具体过程如下："></a>具体过程如下：</h5><h5 id="一·注册"><a href="#一·注册" class="headerlink" title="一·注册"></a>一·注册</h5><p>   先注册好<a href="https://coding.net" target="_blank" rel="noopener">coding</a> 和 <a href="https://github.com" target="_blank" rel="noopener">github</a></p><h5 id="二·创建仓库"><a href="#二·创建仓库" class="headerlink" title="二·创建仓库"></a>二·创建仓库</h5><pre><code>这里只介绍coding上面如何创建项目，以及把本地hexo部署到coding上面，还不懂如何创建hexo的,百度很多。首先我们创建一个项目，创建后进入项目的代码模块，获取到这个项目的ssh地址，我的是 https://git.coding.net/five-great/five-great.git</code></pre><h5 id="三·同步本地hexo到coding上"><a href="#三·同步本地hexo到coding上" class="headerlink" title="三·同步本地hexo到coding上"></a>三·同步本地hexo到coding上</h5><pre><code>把获取到了ssh配置在上面的_config.yml文件中的deploy下，如果是第一次使用coding的话，需要设置SSH公钥，生成的方法可以参考coding帮助中心</code></pre><p>如果</p><p>本地打开 id_rsa.pub 文件，复制其中全部内容，填写到SSH_RSA公钥key下的一栏，公钥名称可以随意起名字。完成后点击“添加”，<br>然后输入密码或动态码即可添加完成。没有的话先生成，如何生成百度好了。</p><p>添加后，在git bash命令输入：</p><p>ssh -T <a href="mailto:git@git.coding.net" target="_blank" rel="noopener">git@git.coding.net</a><br>如果得到下面提示就表示公钥添加成功了：</p><p>Coding.net Tips : [Hello ! You’ve conected to Coding.net by SSH successfully! ]</p><h5 id="四·配置-config-yml"><a href="#四·配置-config-yml" class="headerlink" title="四·配置_config.yml"></a>四·配置_config.yml</h5><p>  在Hexo根目录下_config.yml文件中的deploy如下<br>根据Hexo官方文档需要修改成下面的形式</p><pre class=" language-git"><code class="language-git">  deploy:  type: git  message: [message]  repo:    github: &lt;repository url>,[branch]    coding: &lt;repository url>,[branch]</code></pre><p>  我的为</p><pre><code>```git deploy:  type: git repo:   github: git@github.com:Five-great/Five-great.github.io.git #SSH形式   coding: https://git.coding.net/five-great/five-great.git   #http形式   branch: master ```</code></pre><h5 id="五·pages服务方式部署"><a href="#五·pages服务方式部署" class="headerlink" title="五·pages服务方式部署"></a>五·pages服务方式部署</h5><p>   部署博客方式有两种，第一种就是pages服务的方式，也推荐这种方式，因为可以绑定域名，而第二种演示的方式必须升级会员才能绑定自定义域名。pages方式也很简单<br>就是在source/需要创建一个空白文件，至于原因，是因为 coding.net需要这个文件来作为以静态文件部署的标志。就是说看到这个Staticfile就知道按照静态文件来发布。</p><pre class=" language-git"><code class="language-git"> cd source/ touch Staticfile  #名字必须是Staticfile</code></pre><p>分支选择master，因为前面配置的分支是master,因此开启之后，也需要是master。然后看起之后就可访问了。</p><p>注意：<br>如果你的项目名称跟你coding的用户名一样，比如我的用户是叫tengj,博客项目名也叫tengj<br>那直接访问 tengj.coding.me就能访问博客，否则就要带上项目名：tengj.coding.me/项目名 才能访问<br>推荐项目名跟用户名一样，这样就可以省略项目名了</p><p>  最后使用部署命令就能把博客同步到coding上面：</p><pre class=" language-git"><code class="language-git"> hexo c hexo g hexo d</code></pre><p>  我的博客：<br>   github: <a href="https://five-great.github.io/" target="_blank" rel="noopener">https://five-great.github.io/</a><br>   coding: <a href="https://five-great.coding.me/" target="_blank" rel="noopener">https://five-great.coding.me/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;之前我是把hexo托管在github，但是毕竟github是国外的，访问速度上还是有点慢，所以想也部署一套在国内的托管平台，&lt;br&gt;所以就决
      
    
    </summary>
    
      <category term="前端" scheme="https://fivecc.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Hexo" scheme="https://fivecc.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>代码测试2</title>
    <link href="https://fivecc.cn/dai-ma-ce-shi-2.html"/>
    <id>https://fivecc.cn/dai-ma-ce-shi-2.html</id>
    <published>2018-09-28T03:43:55.000Z</published>
    <updated>2018-10-20T16:38:39.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="汉诺塔游戏"><a href="#汉诺塔游戏" class="headerlink" title="汉诺塔游戏"></a>汉诺塔游戏</h1><pre><code>                                      时间限制: 1 s｜空间限制: 32000 KB</code></pre><p>题目描述 Description</p><p>汉诺塔问题（又称为河内塔问题），是一个大家熟知的问题。在A，B，C三根柱子上，</p><p>有n个不同大小的圆盘（假设半径分别为1-n吧），一开始他们都叠在我A上（如图所示），</p><p>你的目标是在最少的合法移动步数内将所有盘子从A塔移动到C塔。</p><p>游戏中的每一步规则如下：</p><ol><li><p>每一步只允许移动一个盘子（从一根柱子最上方到另一个柱子的最上方）</p></li><li><p>移动的过程中，你必须保证大的盘子不能在小的盘子上方</p></li></ol><p>（小的可以放在大的上面，最大盘子下面不能有任何其他大小的盘子）</p><p>如对于n=3的情况，一个合法的移动序列式：</p><p>1 from A to C</p><p>2 from A to B</p><p>1 from C to B</p><p>3 from A to C</p><p>1 from B to A</p><p>2 from B to C</p><p>1 from A to C</p><p>给出一个数n，求出最少步数的移动序列</p><p>输入描述 Input Description</p><p>一个整数n</p><p>输出描述 Output Description</p><p>第一行一个整数k，代表是最少的移动步数。</p><p>接下来k行，每行一句话，N from X to Y，表示把N号盘从X柱移动到Y柱。X,Y属于{A,B,C}</p><p>样例输入 Sample Input</p><p>3</p><p>样例输出 Sample Output</p><p>7</p><p>1 from A to C</p><p>2 from A to B</p><p>1 from C to B</p><p>3 from A to C</p><p>1 from B to A</p><p>2 from B to C</p><p>1 from A to C</p><p>数据范围及提示 Data Size &amp; Hint</p><p>n&lt;=10</p><p>思路分析：</p><p>我们设定三个柱子A,B,C。我们的目的是将环从A–&gt;C。（A为起始位置，C为目标位置）</p><p>当N=1即一阶时它的路径很简单只需要从A-&gt;C进行移动。</p><p>当N=2时我们需要进行三步：</p><pre><code>               1.小盘 A-&gt;B </code></pre><p>  (假想没有大盘只有小盘，与N=1 的步骤一样，只是目标位置变为了 B)</p><pre><code>               2.大盘 A-&gt;C </code></pre><p>  (大盘上面的小盘到B去了，与N=1 的步骤一样直接到C )</p><pre><code>               3.小盘 B-&gt;C</code></pre><p> (大盘到了C,对于小盘而言,C可以看作无盘，与N=1 的步骤一样，只是起始位置变为 B )</p><p>   (分解一下，小盘从A通过B作为中间目标再到C。可以这样想 </p><p>  小盘下面的大盘目标是C 所以小盘第一次目标则变成B,</p><p>  等到大盘到了目标C ,小盘再到C。</p><p>  则完成将大小盘按小盘在上大盘在下的要求移到C。）</p><p> 当N=3时我们需要进行七步：</p><pre><code>          1. 小盘 A-&gt;C  2.中盘 A-&gt;B  3.小盘  C-&gt;B </code></pre><p>   (假想没有大盘只有小盘和中盘，与N=2 的步骤一样，只是目标位置变为了 B)</p><pre><code>          4. 大盘 A-&gt;C,(大盘上面的小盘和中盘都到B去了，与N=1 的步骤一样直接到C )          5. 小盘 B-&gt;A  6.中盘 B-&gt;C  7.小盘  A-&gt;C</code></pre><p>   (大盘到了C,对于小盘和中盘而言,C可以看作无盘，与N=2 的步骤一样，只是起始位置变为了 B )</p><p>   (分解一下，大盘想从A去C。但上面压着小盘与中盘 ，</p><p>   所以得先把他们移开 并且上面两盘不能移动到C,得移动到B 去</p><p>  就相当于N=2时，起始位置A到目标位置B。待大盘移动到C。</p><p> 当前在B 的小盘和中盘，完全就是执行N=2 的步骤。从当前起始位置B 到目标位置C.)</p><p>如此执行，通过递归方式。代码思路如下：</p><ol><li>对于执行最大盘（n） 到C的操作之前，肯定是?把次大盘（n-1）从A移动到 B<pre><code>    2. 执行最大盘（n） 到C的操作    3.对于执行最大盘（n） 到C的操作之后，肯定是?把次大盘（n-1）从B移动到C</code></pre></li></ol><p>   每次只关心上一层，上上层是到了上一层才考虑的事——递归</p><p>题目链接：<a href="http://codevs.cn/problem/3145/" target="_blank" rel="noopener">http://codevs.cn/problem/3145/</a><br>Javascript</p><pre class=" language-javascript"><code class="language-javascript">#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">></span><span class="token keyword">void</span> <span class="token function">han</span><span class="token punctuation">(</span>int n<span class="token punctuation">,</span> char A<span class="token punctuation">,</span> char B<span class="token punctuation">,</span> char C<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from %c to %c\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//第一步  对于执行最大盘（n） 到C的操作之前</span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//第二步  执行最大盘（n） 到C的操作 </span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from %c to %c\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//第三步  对于执行最大盘（n） 到C的操作之后 </span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">,</span> B<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>int <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    int n<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>Java</p><pre class=" language-java"><code class="language-java">#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">></span><span class="token keyword">void</span> <span class="token function">han</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">char</span> A<span class="token punctuation">,</span> <span class="token keyword">char</span> B<span class="token punctuation">,</span> <span class="token keyword">char</span> C<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from %c to %c\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//第一步  对于执行最大盘（n） 到C的操作之前</span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//第二步  执行最大盘（n） 到C的操作 </span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from %c to %c\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//第三步  对于执行最大盘（n） 到C的操作之后 </span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> B<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>C语言</p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">void</span> <span class="token function">han</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">char</span> A<span class="token punctuation">,</span> <span class="token keyword">char</span> B<span class="token punctuation">,</span> <span class="token keyword">char</span> C<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from %c to %c\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//第一步  对于执行最大盘（n） 到C的操作之前</span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//第二步  执行最大盘（n） 到C的操作 </span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from %c to %c\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//第三步  对于执行最大盘（n） 到C的操作之后 </span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">,</span> B<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;汉诺塔游戏&quot;&gt;&lt;a href=&quot;#汉诺塔游戏&quot; class=&quot;headerlink&quot; title=&quot;汉诺塔游戏&quot;&gt;&lt;/a&gt;汉诺塔游戏&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;                                      时间限制: 1 s｜空间
      
    
    </summary>
    
    
      <category term="ACM" scheme="https://fivecc.cn/tags/ACM/"/>
    
      <category term="水题" scheme="https://fivecc.cn/tags/%E6%B0%B4%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>测试</title>
    <link href="https://fivecc.cn/ce-shi.html"/>
    <id>https://fivecc.cn/ce-shi.html</id>
    <published>2018-09-28T03:43:55.000Z</published>
    <updated>2018-10-20T16:38:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>#测试<br>这是我的测试文章:)<br>这是我的测试文章:)<br>这是我的测试文章:)</p><h1 id="写作介绍"><a href="#写作介绍" class="headerlink" title="写作介绍"></a>写作介绍</h1><h2 id="1，字体介绍"><a href="#1，字体介绍" class="headerlink" title="1，字体介绍"></a>1，字体介绍</h2><p><em>这是斜体</em> 或 <em>这也是斜体</em><br><strong>这是粗体</strong><br><strong><em>这是加粗斜体</em></strong><br><del>这是删除线</del></p><h2 id="2，分级标题"><a href="#2，分级标题" class="headerlink" title="2，分级标题"></a>2，分级标题</h2><h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><h2 id="3，超链接"><a href="#3，超链接" class="headerlink" title="3，超链接"></a>3，超链接</h2><p>写法：</p><p>行内形式：<a href="https://blog.csdn.net/qq_41923622" target="_blank" rel="noopener">我的博客</a><br>参考形式：[我的博客][1]，有一个很好的平台<br>[1]:<a href="https://blog.csdn.net/qq_41923622" target="_blank" rel="noopener">https://blog.csdn.net/qq_41923622</a></p><p>自动链接：我的博客地址<a href="https://blog.csdn.net/qq_41923622" target="_blank" rel="noopener">https://blog.csdn.net/qq_41923622</a></p><h2 id="4-列表"><a href="#4-列表" class="headerlink" title="4,列表"></a>4,列表</h2><p>无序列表：<br>写法：</p><ul><li>无序列表项1</li></ul><ul><li>无序列表项2</li></ul><ul><li>无序列表项3</li></ul><p>有序列表：<br>写法：<br>1.有序列表项1<br>2.有序列表项2<br>3.有序列表项3</p><h2 id="5，插入图片"><a href="#5，插入图片" class="headerlink" title="5，插入图片"></a>5，插入图片</h2><p>在 Hexo 中插入图片，首先需要将图片放在 source/img/ 文件夹下，然后如下方式进行插入：</p><p><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1535014836&di=fafdb400041dc371b853cfb3fcc7b851&imgtype=jpg&er=1&src=http%3A%2F%2Fscdn.file1.gk99.com%2Fphoto%2F2015-09%2F2015-09-11%2F14419580206489.jpg" alt></p><h2 id="6，表格"><a href="#6，表格" class="headerlink" title="6，表格"></a>6，表格</h2><table><thead><tr><th>表头1</th><th align="left">表头2</th><th align="center">表头3</th><th align="right">表头4</th></tr></thead><tbody><tr><td>默认左对齐</td><td align="left">左对齐</td><td align="center">居中对其</td><td align="right">右对齐</td></tr><tr><td>默认左对齐</td><td align="left">左对齐</td><td align="center">居中对其</td><td align="right">右对齐</td></tr><tr><td>默认左对齐</td><td align="left">左对齐</td><td align="center">居中对其</td><td align="right">右对齐</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;#测试&lt;br&gt;这是我的测试文章:)&lt;br&gt;这是我的测试文章:)&lt;br&gt;这是我的测试文章:)&lt;/p&gt;
&lt;h1 id=&quot;写作介绍&quot;&gt;&lt;a href=&quot;#写作介绍&quot; class=&quot;headerlink&quot; title=&quot;写作介绍&quot;&gt;&lt;/a&gt;写作介绍&lt;/h1&gt;&lt;h2 id=&quot;1，字体
      
    
    </summary>
    
    
      <category term="ACM" scheme="https://fivecc.cn/tags/ACM/"/>
    
      <category term="水题" scheme="https://fivecc.cn/tags/%E6%B0%B4%E9%A2%98/"/>
    
      <category term="测试" scheme="https://fivecc.cn/tags/%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>汉诺塔游戏（递归与非递归详解）</title>
    <link href="https://fivecc.cn/han-nuo-ta-you-xi.html"/>
    <id>https://fivecc.cn/han-nuo-ta-you-xi.html</id>
    <published>2018-09-28T03:43:55.000Z</published>
    <updated>2019-11-23T12:31:17.796Z</updated>
    
    <content type="html"><![CDATA[<h2 id="汉诺塔游戏"><a href="#汉诺塔游戏" class="headerlink" title="汉诺塔游戏"></a><strong>汉诺塔游戏</strong></h2><p>​                                                          时间限制: 1 s｜空间限制: 32000 KB</p><p>题目描述 Description</p><p>汉诺塔问题（又称为河内塔问题），是一个大家熟知的问题。在A，B，C三根柱子上，</p><p>有n个不同大小的圆盘（假设半径分别为1-n吧），一开始他们都叠在我A上（如图所示），</p><p>你的目标是在最少的合法移动步数内将所有盘子从A塔移动到C塔。</p><p>游戏中的每一步规则如下：</p><hr><p>\1. 每一步只允许移动一个盘子（从一根柱子最上方到另一个柱子的最上方）</p><p>\2. 移动的过程中，你必须保证大的盘子不能在小的盘子上方</p><p>（小的可以放在大的上面，最大盘子下面不能有任何其他大小的盘子）</p><p>如对于n=3的情况，一个合法的移动序列式：</p><p>1 from A to C</p><p>2 from A to B</p><p>1 from C to B</p><p>3 from A to C</p><p>1 from B to A</p><p>2 from B to C</p><p>1 from A to C</p><p>给出一个数n，求出最少步数的移动序列</p><p>输入描述 Input Description</p><p>一个整数n</p><p>输出描述 Output Description</p><p>第一行一个整数k，代表是最少的移动步数。</p><p>接下来k行，每行一句话，N from X to Y，表示把N号盘从X柱移动到Y柱。X,Y属于{A,B,C}</p><p>样例输入 Sample Input</p><p>3</p><p>样例输出 Sample Output</p><p>7</p><p>1 from A to C</p><p>2 from A to B</p><p>1 from C to B</p><p>3 from A to C</p><p>1 from B to A</p><p>2 from B to C</p><p>1 from A to C</p><p>数据范围及提示 Data Size &amp; Hint</p><p>n&lt;=10</p><hr><p><strong>递归思路分析：</strong></p><p>我们设定三个柱子A,B,C。我们的目的是将环从A–&gt;C。（A为起始位置，C为目标位置）</p><p>当N=1即一阶时它的路径很简单只需要从A-&gt;C进行移动。</p><p>当N=2时我们需要进行三步：</p><blockquote><h3 id="1-小盘-A-gt-B"><a href="#1-小盘-A-gt-B" class="headerlink" title="1.小盘 A-&gt;B"></a>1.小盘 A-&gt;B</h3></blockquote><p>  (假想没有大盘只有小盘，与N=1 的步骤一样，只是目标位置变为了 B)</p><blockquote><h3 id="2-大盘-A-gt-C"><a href="#2-大盘-A-gt-C" class="headerlink" title="2.大盘 A-&gt;C"></a>2.大盘 A-&gt;C</h3></blockquote><p>  (大盘上面的小盘到B去了，与N=1 的步骤一样直接到C )</p><blockquote><h3 id="3-小盘-B-gt-C"><a href="#3-小盘-B-gt-C" class="headerlink" title="3.小盘 B-&gt;C"></a>3.小盘 B-&gt;C</h3></blockquote><p> (大盘到了C,对于小盘而言,C可以看作无盘，与N=1 的步骤一样，只是起始位置变为 B )</p><p>   (分解一下，小盘从A通过B作为中间目标再到C。可以这样想 </p><p>  小盘下面的大盘目标是C 所以小盘第一次目标则变成B,</p><p>  等到大盘到了目标C ,小盘再到C。</p><p>  则完成将大小盘按小盘在上大盘在下的要求移到C。）</p><p> 当N=3时我们需要进行七步：</p><blockquote><h3 id="1-小盘-A-gt-C-2-中盘-A-gt-B-3-小盘-C-gt-B"><a href="#1-小盘-A-gt-C-2-中盘-A-gt-B-3-小盘-C-gt-B" class="headerlink" title="1. 小盘 A-&gt;C  2.中盘 A-&gt;B  3.小盘  C-&gt;B"></a>1. 小盘 A-&gt;C  2.中盘 A-&gt;B  3.小盘  C-&gt;B</h3></blockquote><p>   (假想没有大盘只有小盘和中盘，与N=2 的步骤一样，只是目标位置变为了 B)</p><blockquote><h3 id="4-大盘-A-gt-C"><a href="#4-大盘-A-gt-C" class="headerlink" title="4. 大盘 A-&gt;C,"></a>4. 大盘 A-&gt;C,</h3></blockquote><p>​    (大盘上面的小盘和中盘都到B去了，与N=1 的步骤一样直接到C )</p><blockquote><h3 id="5-小盘-B-gt-A-6-中盘-B-gt-C-7-小盘-A-gt-C"><a href="#5-小盘-B-gt-A-6-中盘-B-gt-C-7-小盘-A-gt-C" class="headerlink" title="5. 小盘 B-&gt;A  6.中盘 B-&gt;C  7.小盘  A-&gt;C"></a>5. 小盘 B-&gt;A  6.中盘 B-&gt;C  7.小盘  A-&gt;C</h3></blockquote><p>   (大盘到了C,对于小盘和中盘而言,C可以看作无盘，与N=2 的步骤一样，只是起始位置变为了 B )</p><p>   (分解一下，大盘想从A去C。但上面压着小盘与中盘 ，</p><p>   所以得先把他们移开 并且上面两盘不能移动到C,得移动到B 去</p><p>  就相当于N=2时，起始位置A到目标位置B。待大盘移动到C。</p><p> 当前在B 的小盘和中盘，完全就是执行N=2 的步骤。从当前起始位置B 到目标位置C.)</p><p>如此执行，通过递归方式。代码思路如下：</p><p><strong>1. 对于执行最大盘（n） 到C的操作之前，肯定是?把次大盘（n-1）从A移动到 B           2. 执行最大盘（n） 到C的操作           3.对于执行最大盘（n） 到C的操作之后，肯定是?把次大盘（n-1）从B移动到C</strong></p><h3 id><a href="#" class="headerlink" title=" "></a> </h3><p>   <strong>每次只关心上一层，上上层是到了上一层才考虑的事——递归</strong></p><p>题目链接：<a href="http://codevs.cn/problem/3145/" target="_blank" rel="noopener">http://codevs.cn/problem/3145/</a></p><hr><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">void</span> <span class="token function">han</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">char</span> A<span class="token punctuation">,</span> <span class="token keyword">char</span> B<span class="token punctuation">,</span> <span class="token keyword">char</span> C<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from %c to %c\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//第一步  对于执行最大盘（n） 到C的操作之前</span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//第二步  执行最大盘（n） 到C的操作 </span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from %c to %c\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//第三步  对于执行最大盘（n） 到C的操作之后 </span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">,</span> B<span class="token punctuation">,</span> A<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">han</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><hr><p><strong>非递归 思路：</strong></p><p> 我们先找找规律：</p><p>  当3个盘的时候：</p><table><thead><tr><th>1</th><th>1:A–&gt;C</th></tr></thead><tbody><tr><td>2</td><td>2:A–&gt;B</td></tr><tr><td>3</td><td>1:C–&gt;B</td></tr><tr><td>4</td><td>3:A–&gt;C</td></tr><tr><td>5</td><td>1:B–&gt;A</td></tr><tr><td>6</td><td>2:B–&gt;C</td></tr><tr><td>7</td><td>1:A–&gt;C</td></tr></tbody></table><p>4个的时候：</p><table><thead><tr><th>1</th><th>1:A–&gt;B</th></tr></thead><tbody><tr><td>2</td><td>2:A–&gt;C</td></tr><tr><td>3</td><td>1:B–&gt;C</td></tr><tr><td>4</td><td>3:A–&gt;B</td></tr><tr><td>5</td><td>1:C–&gt;A</td></tr><tr><td>6</td><td>2:C–&gt;B</td></tr><tr><td>7</td><td>1:A–&gt;B</td></tr><tr><td>8</td><td>4:A–&gt;C</td></tr><tr><td>9</td><td>1:B–&gt;C</td></tr><tr><td>10</td><td>2:B–&gt;A</td></tr><tr><td>11</td><td>1:C–&gt;A</td></tr><tr><td>12</td><td>3:B–&gt;C</td></tr><tr><td>13</td><td>1:A–&gt;B</td></tr><tr><td>14</td><td>2:A–&gt;C</td></tr><tr><td>15</td><td>1:B–&gt;C</td></tr></tbody></table><p>仔细研究研究就能发现，1号出现在·1，3，5，7，9步</p><p>2号出现在2，6，10，14 步</p><p>3号出现在4，12 步</p><p>4号在8，步</p><p>规律与2^n有关。</p><p>我们在研究研究，三个时：</p><p>一号盘的行动方式是：</p><p>A–&gt;C</p><p>C–&gt;B</p><p>B–&gt;A</p><p>A–&gt;C</p><p>二号盘的行动方式是：</p><p>A–&gt;B</p><p>B–&gt;C</p><p>三号盘的行动方式是：</p><p>A–&gt;C</p><p>四个时：</p><p>一号盘的行动方式是：</p><p><code>A--&gt;B</code></p><p>B–&gt;C</p><p>C–&gt;A</p><p><code>A--&gt;B</code></p><p>B–&gt;C</p><p>C–&gt;A</p><p><code>A--&gt;B</code></p><p>B–&gt;C     </p><p>（成一定的周期T=3,当l号盘同最大盘n奇偶性相同，则 执行周期为顺时针，A–&gt;B，B–&gt;C，C–&gt;A</p><p>​    否者则 执行周期为逆时针，A–&gt;C，C–&gt;B，B–&gt;A ）</p><p>二号盘的行动方式是：</p><p>A–&gt;C</p><p>C–&gt;B</p><p>B–&gt;A</p><p>A–&gt;C</p><p>三号盘的行动方式是：</p><p>A–&gt;B</p><p>B–&gt;C</p><p>四号盘的行动方式是：</p><p>A–&gt;C</p><blockquote><p>总结下：<br>A号柱有n 个盘子,叫做源柱.移往C 号柱,叫做目的柱.B 号柱叫做中间柱.<br>全部移往C 号柱要f(n) =（2^n）- 1 次.<br>最大盘n 号盘在整个移动过程中只移动一次,n-1 号移动2 次,i 号盘移动<br>2^(n-i)次.<br>1 号盘移动次数最多,每2 次移动一次.<br>第2k+1 次移动的是1 号盘,且是第k+1 次移动1 号盘.<br>第4k+2 次移动的是2 号盘,且是第k+1 次移动2 号盘.</p></blockquote><blockquote><p>第(2^s)k+2^(s-1)次移动的是s 号盘,这时s 号盘已被移动了k+1 次.<br>每2^s 次就有一次是移动s 号盘.<br>第一次移动s 号盘是在第2^(s-1)次.<br>第二次移动s 号盘是在第2^s+2^(s-1)次.<br>第k+1 次移动s 号盘是在第k*2^s+2^(s-1)次.</p></blockquote><p>A–&gt;B，B–&gt;C，C–&gt;A叫做顺时针方向,A–&gt;C，C–&gt;B，B–&gt;A叫做逆时针方向.<br>最大盘n 号盘只移动一次:A–&gt;C它是逆时针移动.<br>n-1 移动2 次:A–&gt;B，B–&gt;C,是顺时针移动.</p><p>代码实现：</p><blockquote><p>​      枚举 1, 2, 3, 4·····i,  i+1, i+2, ·····步。</p></blockquote><blockquote><p>​       先 获取 第i步移动的几号盘，根据 (2^s)k+2^(s-1)=i,转化一下，满足  i%(2^s) =2^(s-1)  ，令t=2^s;则有i%t=t/2</p></blockquote><blockquote><p>​       再 获得第S盘 第几次移动 ，根据  (2^s)k+2^(s-1)=i,  k=i/(2^s) ,即 k=i/t;</p></blockquote><blockquote><p>​       最后 根据周期T 与奇偶性 确定具体移动的步骤（共6六种）</p></blockquote><p>代码：</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">long</span> <span class="token keyword">long</span> i<span class="token punctuation">,</span> res<span class="token punctuation">,</span>t<span class="token punctuation">,</span>k<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>s<span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>res<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>n<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">for</span><span class="token punctuation">(</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span>res<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>         <span class="token keyword">for</span><span class="token punctuation">(</span> t<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>s<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> s<span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> s<span class="token operator">++</span><span class="token punctuation">,</span>t<span class="token operator">*</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span> i<span class="token operator">%</span>t <span class="token operator">==</span> t<span class="token operator">/</span><span class="token number">2</span> <span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//i%t=t/2 找 第i步移动的S号盘</span>          k <span class="token operator">=</span> i<span class="token operator">/</span>t<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获得第S盘 第几次移动 </span>            <span class="token keyword">if</span><span class="token punctuation">(</span> n<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> s<span class="token operator">%</span><span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">// 逆时针</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from B to A\n"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">3</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from A to C\n"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">3</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from C to B\n"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">// 逆时针</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from C to A\n"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">3</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from A to B\n"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">3</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d from B to C\n"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>     <span class="token punctuation">}</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>更多详情请到：<a href="https://blog.csdn.net/qq_41923622/article/details/82829067" target="_blank" rel="noopener">Five-菜鸟级</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;汉诺塔游戏&quot;&gt;&lt;a href=&quot;#汉诺塔游戏&quot; class=&quot;headerlink&quot; title=&quot;汉诺塔游戏&quot;&gt;&lt;/a&gt;&lt;strong&gt;汉诺塔游戏&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;​                                        
      
    
    </summary>
    
      <category term="程序设计" scheme="https://fivecc.cn/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="ACM" scheme="https://fivecc.cn/tags/ACM/"/>
    
      <category term="水题" scheme="https://fivecc.cn/tags/%E6%B0%B4%E9%A2%98/"/>
    
      <category term="规律" scheme="https://fivecc.cn/tags/%E8%A7%84%E5%BE%8B/"/>
    
  </entry>
  
</feed>
